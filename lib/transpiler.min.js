(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){var GLSL=__webpack_require__(1);GLSL.compile=GLSL.string=function(str,opt){return GLSL(opt).compile(str)};GLSL.stream=__webpack_require__(31);window.GLSL=GLSL;module.exports=GLSL},function(module,exports,__webpack_require__){var Emitter=__webpack_require__(2);var inherits=__webpack_require__(3);var assert=__webpack_require__(4);var parse=__webpack_require__(9);var extend=__webpack_require__(21);var builtins=__webpack_require__(22);var types=__webpack_require__(23);var operators=__webpack_require__(25);var stdlib=__webpack_require__(26);var flatten=__webpack_require__(27);var Descriptor=__webpack_require__(24);var prepr=__webpack_require__(28);var floatRE=/^-?[0-9]*(?:.[0-9]+)?(?:e-?[0-9]+)?$/i;function GLSL(options){if(!(this instanceof GLSL))return new GLSL(options);extend(this,options);this.reset();var compile=this.compile.bind(this);compile.compiler=this;compile.compile=compile;return compile}inherits(GLSL,Emitter);GLSL.prototype.optimize=true;GLSL.prototype.preprocess=prepr;GLSL.prototype.debug=false;GLSL.prototype.operators=operators.operators;GLSL.prototype.types=types;GLSL.prototype.builtins=builtins;GLSL.prototype.parse=parse;GLSL.prototype.stdlib=stdlib;GLSL.prototype.reset=function(){if(this.descriptors)this.descriptors.clear();else this.descriptors=new Map;this.scopes={global:{__name:"global",__parentScope:null}};this.structs={};this.uniforms={};this.varyings={};this.attributes={};this.functions={};this.includes={};this.currentScope="global"};GLSL.prototype.compile=function compile(arg){if(this.preprocess){if(this.preprocess instanceof Function){arg=this.preprocess(arg)}else{arg=prepr(arg)}}arg=this.parse(arg);var result=this.process(arg);result=this.stringifyStdlib(this.includes)+"\n"+result;return result};GLSL.prototype.process=function(node,arg){if(node instanceof String){return node}if(this.descriptors.has(node)){return this.descriptors.get(node)}if(node==null||typeof node==="number"||typeof node==="string"||typeof node==="boolean"){return this.cache(node,Descriptor(node,{complexity:0}))}if(!node.hasOwnProperty("type"))return this.cache(node,Descriptor(null));var t=this.transforms[node.type];var startCall=false;if(t===undefined){console.warn(`Unknown node type '${node.type}'`);return this.cache(node,null)}if(!t){return this.cache(node,null)}if(typeof t!=="function"){return this.cache(node,t)}if(!this.started){this.emit("start",node);this.started=true;startCall=true}var result=t.call(this,node,arg);if(this.optimize){result=this.optimizeDescriptor(result)}this.cache(result);this.addInclude(result.include);if(startCall){this.started=false;this.emit("end",node)}return result};GLSL.prototype.optimizeDescriptor=function(descriptor){if(this.optimize&&descriptor.optimize!==false){var complexity=descriptor.components.reduce(function(prev,curr){return prev+curr.complexity||0},0);if(complexity<descriptor.complexity){if(descriptor.components&&descriptor.components.length>1){var include=descriptor.components.map(function(c){return c.include},this).filter(Boolean);return Descriptor(`[${descriptor.components.join(", ")}]`,extend(descriptor,{include:include,complexity:complexity}))}}}return descriptor};GLSL.prototype.cache=function(node,value){if(this.descriptors.has(node))return this.descriptors.get(node);if(!(value instanceof String))value=Descriptor(value);this.descriptors.set(node,value);return this.descriptors.get(node)};GLSL.prototype.transforms={stmtlist:function(node){if(!node.children.length)return Descriptor(null);var result=node.children.map(this.process,this).join("\n");return Descriptor(result)},stmt:function(node){var result=node.children.map(this.process,this).join("");if(result)result+=";";return Descriptor(result)},struct:function(node){var structName=node.children[0].data;var args=node.children.slice(1);var argTypes=[];var argsList=flatten(args.map(function(arg){assert.equal(arg.type,"decl","Struct statements should be declarations.");var decllist=arg.children[arg.children.length-1];assert.equal(decllist.type,"decllist","Struct statement declaration has wrong structure.");return decllist.children.map(function(ident){assert.equal(ident.type,"ident","Struct statement contains something other than just identifiers.");return ident.data})}));var argTypes=flatten(args.map(function(arg){var type=arg.children[4].token.data;var decllist=arg.children[arg.children.length-1];return decllist.children.map(function(){return type})}));var struct=function struct(){var args=arguments;var includes=[];var fields=argsList.map(function(argName,i){if(args[i]){var initValue=this.process(args[i])}else{var initValue=this.types[argTypes[i]].call(this,args[i])}initValue=this.optimizeDescriptor(initValue);includes=includes.concat(initValue.include);return Descriptor(`${argName}: ${initValue}`,{type:argTypes[i],optimize:false,components:initValue.components})},this);return Descriptor(`{
${fields.join(",\n")}
}`,{type:structName,optimize:false,include:includes.filter(Boolean),components:fields})}.bind(this);Object.defineProperty(struct,"length",{value:argTypes.length});this.structs[structName]=this.types[structName]=struct;return Descriptor(null)},function:function(node){var result="";if(node.children.length<3)return Descriptor(null);assert.equal(node.children[0].type,"ident","Function should have an identifier.");var name=this.process(node.children[0]);assert.equal(node.children[1].type,"functionargs","Function should have arguments.");var args=this.process(node.children[1]);var outType=node.parent.children[4].token.data;var argTypesSfx=args.components.map(function(arg){return`${arg.type}`}).join("_");if(this.functions[name]&&argTypesSfx){name=`${name}_${argTypesSfx}`}assert.equal(node.children[2].type,"stmtlist","Function should have a body.");result+=`function ${name} (${args}) {
`;result+=this.process(node.children[2]);result=result.replace(/\n/g,"\n\t");result+="\n}";this.currentScope=this.scopes[this.currentScope].__parentScope.__name;result=Descriptor(result,{type:outType,complexity:999});this.functions[name]=result;return result},functionargs:function(node){var lastScope=this.currentScope;var scopeName=node.parent&&node.parent.children[0].data||"global";this.currentScope=scopeName;if(!this.scopes[scopeName]){this.scopes[scopeName]={__parentScope:this.scopes[lastScope],__name:scopeName}}var comps=node.children.map(this.process,this);return Descriptor(comps.join(", "),{components:comps})},decl:function(node){var result;var typeNode=node.children[4];var decllist=node.children[5];if(node.token.data==="struct"){this.process(typeNode);if(!decllist)return Descriptor(null)}assert(decllist.type==="decllist"||decllist.type==="function"||decllist.type==="struct","Decl structure is malicious");if(decllist.type==="function"){return this.process(decllist)}if(node.parent.type==="functionargs"){result=this.process(decllist);return result}else{result=this.process(decllist)}if(!result||!result.trim())return Descriptor(null,{type:result.type,components:result.components,optimize:false});return Descriptor(`var ${result}`,{type:result.type,components:result.components,optimize:false})},decllist:function(node){var ids=[];var lastId=0;var dataType=node.parent.children[4].token.data;if(dataType==="struct"){dataType=node.parent.children[4].children[0].data}var bindingType=node.parent.children[1].token.data;var dimensions=[];for(var i=5,l=node.parent.children.length-1;i<l;i++){dimensions.push(parseInt(node.parent.children[i].children[0].children[0].data))}for(var i=0,l=node.children.length;i<l;i++){var child=node.children[i];if(child.type==="ident"){var ident=this.process(child);ident.type=dataType;lastId=ids.push(ident);this.variable(ident,{type:dataType,binding:bindingType,node:child,dimensions:[]})}else if(child.type==="quantifier"){var dimensions=this.variable(ids[lastId-1]).dimensions;dimensions.push(parseInt(child.children[0].children[0].data));this.variable(ids[lastId-1],{dimensions:dimensions})}else if(child.type==="expr"){var ident=ids[lastId-1];var value=this.process(child);this.variable(ident,{value:value})}else{throw Error("Undefined type in decllist: "+child.type)}}var functionargs=node.parent.parent.type==="functionargs";var replace=this[bindingType];var comps=ids.map(function(ident,i){if(functionargs)return ident;var result=this.variable(ident).value;if(replace!==undefined&&!replace){return""}else if(replace instanceof Function){var callResult=replace(ident,this.variable(ident));if(callResult!=null){result=callResult}}if(!(result+"")&&result!==0)return ident;return`${ident} = ${result}`},this).filter(Boolean);var res=Descriptor(comps.join(", "),{type:dataType});return res},placeholder:function(node){return node.token.data},suffix:function(node){var str=this.process(node.children[0]);return Descriptor(str+node.data,{type:str.type})},forloop:function(node){var init=this.process(node.children[0]);var cond=this.process(node.children[1]);var iter=this.process(node.children[2]);var body=this.process(node.children[3]);return Descriptor(`for (${init}; ${cond}; ${iter}) {
${body}
}`,{})},whileloop:function(node){var cond=this.process(node.children[0]);var body=this.process(node.children[1]);return Descriptor(`while (${cond}) {
${body}
}`,{})},operator:function(node){if(node.data==="."){var identNode=node.children[0];var ident=this.process(identNode);var type=ident.type;var prop=node.children[1].data;if(/^[xyzwstpdrgba]{1,4}$/.test(prop)){return this.unswizzle(node)}return Descriptor(`${ident}.${prop}`,{type:type})}throw Error("Unknown operator "+node.data);return Descriptor(null)},expr:function(node){var result=node.children.map(this.process,this).join("");return Descriptor(result)},precision:function(){return Descriptor(null)},comment:function(node){return Descriptor(null)},preprocessor:function(node){return Descriptor("/* "+node.token.data+" */")},keyword:function(node){if(node.data==="true"||node.data==="false")type="bool";else type=node.data;return Descriptor(node.data,{type:type,complexity:0,optimize:false})},ident:function(node){var id=node.token.data;var scope=this.scopes[this.currentScope];while(scope[id]==null){scope=scope.__parentScope;if(!scope){break}}var str=node.data;if(scope){var type=scope[id].type;var res=Descriptor(str,{type:type,complexity:0});return res}return Descriptor(str,{complexity:0})},return:function(node){var expr=this.process(node.children[0]);return Descriptor("return"+(expr.visible?" "+expr:""),{type:expr.type})},continue:function(){return Descriptor("continue")},break:function(){return Descriptor("break")},discard:function(){return Descriptor("discard()")},"do-while":function(node){var exprs=this.process(node.children[0]);var cond=this.process(node.children[1]);return Descriptor(`do {
${exprs}
} while (${cond})`,{})},binary:function(node){var result="";var leftNode=node.children[0];var rightNode=node.children[1];var left=this.process(leftNode);var right=this.process(rightNode);var leftType=left.type;var rightType=right.type;var operator=node.data;if(node.data==="["){if(this.types[node.type]){return Descriptor(`${leftType}[${right}]`,{type:this.types[leftType].type,complexity:left.complexity+right.complexity+1})}if(leftNode.type==="binary"){var matNode=leftNode.children[0];var matDesc=this.process(matNode);var vecSize=this.types[leftType].length;var matType=matDesc.type;var matSize=this.types[matType].length;var outerRight=this.process(leftNode.children[1]);var idx=parseFloat(outerRight)|0;var offset=parseFloat(right)|0;if(!isNaN(idx)&&!isNaN(offset)){return Descriptor(matDesc.components[vecSize*idx+offset],{type:"float",complexity:matDesc.complexity+right.complexity+1})}else{return Descriptor(`${matDesc}[${outerRight} * ${vecSize} + ${right}]`,{type:"float",complexity:matDesc.complexity+outerRight.complexity+right.complexity+2})}}if(/mat/.test(leftType)){var size=this.types[leftType].length;var start=this.processOperation(right,Descriptor(size),"*");var end=this.processOperation(start,Descriptor(size),"+");var comps=floatRE.test(start)&&floatRE.test(end)?left.components.slice(start,end):undefined;var res=Descriptor(`${left}.slice(${start}, ${end})`,{type:this.types[leftType].type,complexity:left.complexity+size,components:comps});res=this.optimizeDescriptor(res);return res}var leftVar=this.variable(left);var type=leftVar&&leftVar.dimensions&&leftVar.dimensions.length?leftType:this.types[leftType].type;return Descriptor(`${left}[${right}]`,{type:type,complexity:left.complexity+right.complexity+1})}return this.processOperation(left,right,operator)},assign:function(node){var result="";var operator=node.data;var right=this.process(node.children[1]);if(node.children[0].type==="identifier"){var left=Descriptor(node.children[0].data,{type:right.type,optimize:false,complexity:0})}else{var left=this.process(node.children[0])}var target=left;var isSwizzle=node.children[0].type==="operator"&&/^[xyzwstpdrgba]{1,4}$/.test(node.children[0].children[1].data);if(!isSwizzle&&this.types[right.type].length==1&&this.types[target.type].length==1){return Descriptor(`${target} ${operator} ${right}`,{type:right.type,complexity:target.complexity+1+right.complexity})}if(isSwizzle){var positions=this.swizzlePositions(node.children[0].children[1].data);var len=this.types[this.process(node.children[0].children[0]).type].length;var ids=Array(len).fill("null");for(var i=0;i<positions.length;i++){ids[positions[i]]=i}target=Descriptor(node.children[0].children[0].data,{type:right.type,optimize:false});if(positions.length>1){if(operator.length>1){var subOperator=operator.slice(0,-1);right=this.processOperation(this.unswizzle(node.children[0]),right,subOperator);right=this.optimizeDescriptor(right)}var comps=Array(len);for(var i=0;i<len;i++){comps[i]=Descriptor(`${target}[${i}]`,{type:"float",complexity:1})}for(var i=0;i<positions.length;i++){comps[positions[i]]=right.components[i]}right=Descriptor(`[${ids.join(", ")}].map(function (idx, i) { return idx == null ? ${target}[i] : this[idx]; }, ${right})`,{type:right.type,complexity:len*4+right.complexity,include:right.include,components:comps});right=this.optimizeDescriptor(right);return Descriptor(`${target} = ${right}`,{type:right.type,optimize:false,include:right.include})}else{return Descriptor(`${target}[${positions[0]}] ${operator} ${right}`,{type:right.type,optimize:false})}}else if(operator.length>1){var subOperator=operator.slice(0,-1);right=this.processOperation(left,right,subOperator);right=this.optimizeDescriptor(right)}return Descriptor(`${target} = ${right}`,{type:right.type,complexity:1})},ternary:function(node){var cond=this.process(node.children[0]);var a=this.process(node.children[1]);var b=this.process(node.children[2]);return Descriptor(`${cond} ? ${a} : ${b}`,{type:a.type})},unary:function(node){var str=this.process(node.children[0]);var complexity=str.complexity+1;if(node.data==="+"){if(node.children[0].type==="unary"){return Descriptor(node.data+str,{type:str.type,complexity:complexity})}else if(node.children[0].parent.type==="unary"){return Descriptor(node.data+str,{type:str.type,complexity:complexity})}return Descriptor(str)}return Descriptor(node.data+str,{type:str.type,complexity:complexity})},builtin:function(node){return Descriptor(node.data,{type:this.builtins[node.data],complexity:0})},call:function(node){var args=node.children.slice(1);var argValues=args.map(this.process,this);var argTypes=argValues.map(function(arg){return arg.type},this);if(node.children[0].data==="."){var methodNode=node.children[0].children[1];var holderNode=node.children[0].children[0];var methodName=this.process(methodNode);var holderName=this.process(holderNode);var type=holderName.type;if(methodName=="length"&&this.types[type].length>1){return Descriptor(this.types[type].length,{type:"int",complexity:0})}var callName=Descriptor(`${holderName}.${methodName}`,{type:methodName.type,complexity:holderName.complexity+methodName.complexity})}else{var callName=this.process(node.children[0])}if(node.children[0].data==="["){var dimensions=[];var keywordNode=node.children[0];while(keywordNode.type!="keyword"){dimensions.push(parseInt(keywordNode.children[1].data));keywordNode=keywordNode.children[0]}var value="";if(this.types[callName]){value+=args.map(this.process,this).join(", ")}else{value+=callName+"(";value+=args.map(this.process,this).join(", ");value+=")"}return Descriptor(this.wrapDimensions(argValues,dimensions.reverse()),{type:callName.type,complexity:999})}else{if(this.debug){if(callName=="print"){var args=argValues.map(function(a){return a+":"+a.type});console.log.apply(console,args);return Descriptor(null)}if(callName=="show"){console.log.apply(console,argValues.map(function(a){return a}));return Descriptor(null)}}if(this.types[callName]){return this.types[callName].apply(this,args)}else{var type,optimize=true;if(this.functions[callName]){var sfx=argTypes.join("_");if(sfx&&this.functions[`${callName}_${sfx}`]){type=this.functions[`${callName}_${sfx}`].type;callName=Descriptor(`${callName}_${sfx}`,{complexity:callName.complexity})}else if(this.functions[callName]){type=this.functions[callName].type}}else if(this.stdlib[callName]){this.addInclude(callName);if(this.stdlib[callName].name){callName=this.stdlib[callName].name}this.addInclude(this.stdlib[callName].include);type=this.stdlib[callName].type;if(type instanceof Function)type=type.call(this,node)}if(!type){type=this.process(node.children[1]).type;optimize=false}var res=Descriptor(`${callName}(${argValues.join(", ")})`,{type:type||callName.type,complexity:999,optimize:optimize});return res}}},literal:function(node){if(/^0[0-9]+/.test(node.data)){node.data="0o"+node.data.slice(1)}var result=/^[0-9][xob]/.test(node.data)?Number(node.data):node.data;var type;if(/true|false/i.test(node.data))type="bool";else if(/^[0-9]+$/.test(node.data)>0)type="int";else if(floatRE.test(node.data))type="float";return Descriptor(result,{type:type,complexity:0})},if:function(node){var cond=this.process(node.children[0]);var ifBody=this.process(node.children[1]);var result=`if (${cond}) {
${ifBody}
}`;if(node.children.length>1){var elseBody=this.process(node.children[2]);if(elseBody.visible)result+=` else {
${elseBody}
}`}return Descriptor(result,{type:"float"})},group:function(node){var children=node.children.map(this.process,this);var result="("+children.join(", ")+")";var last=children[children.length-1];last.components=last.components.map(function(comp){if(comp.complexity===1)return comp;return Descriptor("("+comp+")",comp)});return Descriptor(result,{type:last.type,components:last.components,complexity:children.reduce(function(prev,curr){return prev+curr.complexity||0},0)})}};GLSL.prototype.swizzlePositions=function(prop){var swizzles="xyzwstpdrgba";var positions=[];for(var i=0,l=prop.length;i<l;i++){var letter=prop[i];var position=swizzles.indexOf(letter)%4;positions.push(position)}return positions};GLSL.prototype.unswizzle=function(node){var identNode=node.children[0];var ident=this.process(identNode);var type=ident.type;var prop=node.children[1].data;var positions=this.swizzlePositions(prop),args=positions.map(function(position){return ident.components[position]});if(args.length===1){if(args[0]==null)console.warn(`Cannot unswizzle '${ident.type}(${ident}).${prop}': ${prop} is outside the type range.`);var result=Descriptor(args[0]||"undefined",{type:"float",complexity:1});return result}if(args.length===this.types[type].length&&positions.every(function(position,i){return position===i})){return ident}var complexity=args.length*ident.complexity;var result=Descriptor(`[${positions.join(", ")}].map(function (x, i) { return this[x]}, ${ident})`,{complexity:args.length*2,type:`vec${args.length}`,components:args});result=this.optimizeDescriptor(result);return result};GLSL.prototype.variable=function(ident,data,scope){if(!scope)scope=this.currentScope;if(data){if(!this.scopes[scope][ident]){this.scopes[scope][ident]={}}var variable=extend(this.scopes[scope][ident],data);if(data.value==null){if(this.types[variable.type]){if(/sampler|image/.test(variable.type)){variable.value=this.types[variable.type].call(this,ident)}else{variable.value=this.types[variable.type].call(this)}}else{variable.value=variable.type+`()`}variable.value=this.optimizeDescriptor(variable.value);variable.value=this.wrapDimensions(variable.value,variable.dimensions)}if(variable.id==null)variable.id=ident;if(variable.scope==null)variable.scope=this.scopes[scope];if(variable.binding==="uniform"){this.uniforms[ident]=variable}if(variable.binding==="attribute"){this.attributes[ident]=variable}if(variable.binding==="varying"){this.varyings[ident]=variable}return variable}return this.scopes[scope][ident]};GLSL.prototype.wrapDimensions=function(value,dimensions){if(dimensions.length){if(!Array.isArray(value))value=[value];value=dimensions.reduceRight(function(value,curr){var result=[];var prevVal,val;for(var i=0;i<curr;i++){val=value[i]==null?prevVal:value[i];prevVal=val;result.push(val)}return`[${result.join(", ")}]`},value)}return value};GLSL.prototype.processOperation=operators;GLSL.prototype.addInclude=function(name,prop){if(!name)return;if(Array.isArray(name)){return name.forEach(function(i){this.addInclude(i)},this)}if(!(name instanceof String)&&typeof name==="object"){for(var subName in name){this.addInclude(subName,name[subName])}return}if(!prop){if(!this.includes[name])this.includes[name]=true}else{if(!this.includes[name]||this.includes[name]===true)this.includes[name]={};this.includes[name][prop]=true}};GLSL.prototype.stringifyStdlib=function(includes){if(!includes)includes=this.includes;var methods=[];for(var meth in includes){var result=this.stdlib[meth].toString();methods.push(result);if(includes[meth]){for(var prop in includes[meth]){if(!this.stdlib[meth][prop]){console.warn(`Cannot find '${meth}.${prop}' in stdlib`);continue}methods.push(`${meth}.${prop} = ${this.stdlib[meth][prop].toString()}`)}}}return methods.join("\n")};module.exports=GLSL},function(module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified "error" event. ('+er+")");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},function(module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){(function(global){"use strict";function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}function isBuffer(b){if(global.Buffer&&typeof global.Buffer.isBuffer==="function"){return global.Buffer.isBuffer(b)}return!!(b!=null&&b._isBuffer)}var util=__webpack_require__(5);var hasOwn=Object.prototype.hasOwnProperty;var pSlice=Array.prototype.slice;var functionsHaveNames=function(){return function foo(){}.name==="foo"}();function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}var assert=module.exports=ok;var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!util.isFunction(func)){return}if(functionsHaveNames){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames||!util.isFunction(something)){return util.inspect(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)}};function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer(actual)&&isBuffer(expected)){return compare(actual,expected)===0}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||typeof actual!=="object")&&(expected===null||typeof expected!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer(actual)!==isBuffer(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&util.isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws(true,block,error,message)};assert.doesNotThrow=function(block,error,message){_throws(false,block,error,message)};assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(global,process){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=__webpack_require__(7);function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=__webpack_require__(8);exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(exports,function(){return this}(),__webpack_require__(6))},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},function(module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){var glslParse=__webpack_require__(10);var tokenize=__webpack_require__(14);function parse(arg){if(typeof arg==="object"&&arg.children)return arg;if(typeof arg==="string"){arg=tokenize(arg)}if(Array.isArray(arg)){arg=glslParse(arg)}return arg}module.exports=parse},function(module,exports,__webpack_require__){var parse=__webpack_require__(11);module.exports=parseArray;function parseArray(tokens){var parser=parse();for(var i=0;i<tokens.length;i++){parser(tokens[i])}return parser(null)}},function(module,exports,__webpack_require__){module.exports=parser;var full_parse_expr=__webpack_require__(12),Scope=__webpack_require__(13);var Advance=new Object;var DEBUG=false;var _=0,IDENT=_++,STMT=_++,STMTLIST=_++,STRUCT=_++,FUNCTION=_++,FUNCTIONARGS=_++,DECL=_++,DECLLIST=_++,FORLOOP=_++,WHILELOOP=_++,IF=_++,EXPR=_++,PRECISION=_++,COMMENT=_++,PREPROCESSOR=_++,KEYWORD=_++,KEYWORD_OR_IDENT=_++,RETURN=_++,BREAK=_++,CONTINUE=_++,DISCARD=_++,DOWHILELOOP=_++,PLACEHOLDER=_++,QUANTIFIER=_++;var DECL_ALLOW_ASSIGN=1,DECL_ALLOW_COMMA=2,DECL_REQUIRE_NAME=4,DECL_ALLOW_INVARIANT=8,DECL_ALLOW_STORAGE=16,DECL_NO_INOUT=32,DECL_ALLOW_STRUCT=64,DECL_STATEMENT=255,DECL_FUNCTION=DECL_STATEMENT&~(DECL_ALLOW_ASSIGN|DECL_ALLOW_COMMA|DECL_NO_INOUT|DECL_ALLOW_INVARIANT|DECL_REQUIRE_NAME),DECL_STRUCT=DECL_STATEMENT&~(DECL_ALLOW_ASSIGN|DECL_ALLOW_INVARIANT|DECL_ALLOW_STORAGE|DECL_ALLOW_STRUCT);var QUALIFIERS=["const","attribute","uniform","varying"];var NO_ASSIGN_ALLOWED=false,NO_COMMA_ALLOWED=false;var token_map={"block-comment":COMMENT,"line-comment":COMMENT,preprocessor:PREPROCESSOR};var stmt_type=_=["ident","stmt","stmtlist","struct","function","functionargs","decl","decllist","forloop","whileloop","if","expr","precision","comment","preprocessor","keyword","keyword_or_ident","return","break","continue","discard","do-while","placeholder","quantifier"];function parser(){var stmtlist=n(STMTLIST),stmt=n(STMT),decllist=n(DECLLIST),precision=n(PRECISION),ident=n(IDENT),keyword_or_ident=n(KEYWORD_OR_IDENT),fn=n(FUNCTION),fnargs=n(FUNCTIONARGS),forstmt=n(FORLOOP),ifstmt=n(IF),whilestmt=n(WHILELOOP),returnstmt=n(RETURN),dowhilestmt=n(DOWHILELOOP),quantifier=n(QUANTIFIER);var parse_struct,parse_precision,parse_quantifier,parse_forloop,parse_if,parse_return,parse_whileloop,parse_dowhileloop,parse_function,parse_function_args;var check=arguments.length?[].slice.call(arguments):[],complete=false,ended=false,depth=0,state=[],nodes=[],tokens=[],whitespace=[],errored=false,program,token,node;state.shift=special_shift;state.unshift=special_unshift;state.fake=special_fake;state.unexpected=unexpected;state.scope=new Scope(state);state.create_node=function(){
var n=mknode(IDENT,token);n.parent=reader.program;return n};setup_stative_parsers();node=stmtlist();node.expecting="(eof)";node.mode=STMTLIST;node.token={type:"(program)",data:"(program)"};program=node;reader.program=program;reader.scope=function(scope){if(arguments.length===1){state.scope=scope}return state.scope};state.unshift(node);return reader;function reader(data){if(data===null){return end(),program}nodes=[];write(data);return nodes}function write(input){if(input.type==="whitespace"||input.type==="line-comment"||input.type==="block-comment"){whitespace.push(input);return}tokens.push(input);token=token||tokens[0];if(token&&whitespace.length){token.preceding=token.preceding||[];token.preceding=token.preceding.concat(whitespace);whitespace=[]}while(take())switch(state[0].mode){case STMT:parse_stmt();break;case STMTLIST:parse_stmtlist();break;case DECL:parse_decl();break;case DECLLIST:parse_decllist();break;case EXPR:parse_expr();break;case STRUCT:parse_struct(true,true);break;case PRECISION:parse_precision();break;case IDENT:parse_ident();break;case KEYWORD:parse_keyword();break;case KEYWORD_OR_IDENT:parse_keyword_or_ident();break;case FUNCTION:parse_function();break;case FUNCTIONARGS:parse_function_args();break;case FORLOOP:parse_forloop();break;case WHILELOOP:parse_whileloop();break;case DOWHILELOOP:parse_dowhileloop();break;case RETURN:parse_return();break;case IF:parse_if();break;case QUANTIFIER:parse_quantifier();break}}function end(tokens){if(arguments.length){write(tokens)}if(state.length>1){unexpected("unexpected EOF");return}complete=true}function take(){if(errored||!state.length)return false;return token=tokens[0]}function special_fake(x){state.unshift(x);state.shift()}function special_unshift(_node,add_child){_node.parent=state[0];var ret=[].unshift.call(this,_node);add_child=add_child===undefined?true:add_child;if(DEBUG){var pad="";for(var i=0,len=this.length-1;i<len;++i){pad+=" |"}console.log(pad,"\\"+_node.type,_node.token.data)}if(add_child&&node!==_node)node.children.push(_node);node=_node;return ret}function special_shift(){var _node=[].shift.call(this),okay=check[this.length],emit=false;if(DEBUG){var pad="";for(var i=0,len=this.length;i<len;++i){pad+=" |"}console.log(pad,"/"+_node.type)}if(check.length){if(typeof check[0]==="function"){emit=check[0](_node)}else if(okay!==undefined){emit=okay.test?okay.test(_node.type):okay===_node.type}}else{emit=true}if(emit&&!errored)nodes.push(_node);node=_node.parent;return _node}function parse_stmtlist(){return stative(function(){state.scope.enter();return Advance},normal_mode)();function normal_mode(){if(token.data===state[0].expecting){return state.scope.exit(),state.shift()}switch(token.type){case"preprocessor":state.fake(adhoc());tokens.shift();return;default:state.unshift(stmt());return}}}function parse_stmt(){if(state[0].brace){if(token.data!=="}"){return unexpected("expected `}`, got "+token.data)}state[0].brace=false;return tokens.shift(),state.shift()}switch(token.type){case"eof":return got_eof();case"keyword":switch(token.data){case"for":return state.unshift(forstmt());case"if":return state.unshift(ifstmt());case"while":return state.unshift(whilestmt());case"do":return state.unshift(dowhilestmt());case"break":return state.fake(mknode(BREAK,token)),tokens.shift();case"continue":return state.fake(mknode(CONTINUE,token)),tokens.shift();case"discard":return state.fake(mknode(DISCARD,token)),tokens.shift();case"return":return state.unshift(returnstmt());case"precision":return state.unshift(precision())}return state.unshift(decl(DECL_STATEMENT));case"ident":var lookup;if(lookup=state.scope.find(token.data)){if(lookup.parent.type==="struct"){return state.unshift(decl(DECL_STATEMENT))}return state.unshift(expr(";"))}case"operator":if(token.data==="{"){state[0].brace=true;var n=stmtlist();n.expecting="}";return tokens.shift(),state.unshift(n)}if(token.data===";"){return tokens.shift(),state.shift()}default:return state.unshift(expr(";"))}}function got_eof(){if(ended)errored=true;ended=true;return state.shift()}function parse_decl(){var stmt=state[0];return stative(invariant_or_not,storage_or_not,parameter_or_not,precision_or_not,struct_or_type,maybe_name,maybe_lparen,is_decllist,done)();function invariant_or_not(){if(token.data==="invariant"){if(stmt.flags&DECL_ALLOW_INVARIANT){state.unshift(keyword());return Advance}else{return unexpected("`invariant` is not allowed here")}}else{state.fake(mknode(PLACEHOLDER,{data:"",position:token.position}));return Advance}}function storage_or_not(){if(is_storage(token)){if(stmt.flags&DECL_ALLOW_STORAGE){state.unshift(keyword());return Advance}else{return unexpected("storage is not allowed here")}}else{state.fake(mknode(PLACEHOLDER,{data:"",position:token.position}));return Advance}}function parameter_or_not(){if(is_parameter(token)){if(!(stmt.flags&DECL_NO_INOUT)){state.unshift(keyword());return Advance}else{return unexpected("parameter is not allowed here")}}else{state.fake(mknode(PLACEHOLDER,{data:"",position:token.position}));return Advance}}function precision_or_not(){if(is_precision(token)){state.unshift(keyword());return Advance}else{state.fake(mknode(PLACEHOLDER,{data:"",position:token.position}));return Advance}}function struct_or_type(){if(token.data==="struct"){if(!(stmt.flags&DECL_ALLOW_STRUCT)){return unexpected("cannot nest structs")}state.unshift(struct());return Advance}if(token.type==="keyword"){state.unshift(keyword());return Advance}var lookup=state.scope.find(token.data);if(lookup){state.fake(Object.create(lookup));tokens.shift();return Advance}return unexpected("expected user defined type, struct or keyword, got "+token.data)}function maybe_name(){if(token.data===","&&!(stmt.flags&DECL_ALLOW_COMMA)){return state.shift()}if(token.data==="["){state.unshift(quantifier());return}if(token.data===")")return state.shift();if(token.data===";"){return stmt.stage+3}if(token.type!=="ident"&&token.type!=="builtin"){return unexpected("expected identifier, got "+token.data)}stmt.collected_name=tokens.shift();return Advance}function maybe_lparen(){if(token.data==="("){tokens.unshift(stmt.collected_name);delete stmt.collected_name;state.unshift(fn());return stmt.stage+2}return Advance}function is_decllist(){tokens.unshift(stmt.collected_name);delete stmt.collected_name;state.unshift(decllist());return Advance}function done(){return state.shift()}}function parse_decllist(){if(token.type==="ident"){var name=token.data;state.unshift(ident());state.scope.define(name);return}if(token.type==="operator"){if(token.data===","){if(!(state[1].flags&DECL_ALLOW_COMMA)){return state.shift()}return tokens.shift()}else if(token.data==="="){if(!(state[1].flags&DECL_ALLOW_ASSIGN))return unexpected("`=` is not allowed here.");tokens.shift();state.unshift(expr(",",";"));return}else if(token.data==="["){state.unshift(quantifier());return}}return state.shift()}function parse_keyword_or_ident(){if(token.type==="keyword"){state[0].type="keyword";state[0].mode=KEYWORD;return}if(token.type==="ident"){state[0].type="ident";state[0].mode=IDENT;return}return unexpected("expected keyword or user-defined name, got "+token.data)}function parse_keyword(){if(token.type!=="keyword"){return unexpected("expected keyword, got "+token.data)}return state.shift(),tokens.shift()}function parse_ident(){if(token.type!=="ident"){return unexpected("expected user-defined name, got "+token.data)}state[0].data=token.data;return state.shift(),tokens.shift()}function parse_expr(){var expecting=state[0].expecting;state[0].tokens=state[0].tokens||[];if(state[0].parenlevel===undefined){state[0].parenlevel=0;state[0].bracelevel=0}if(state[0].parenlevel<1&&expecting.indexOf(token.data)>-1){return parseexpr(state[0].tokens)}if(token.data==="("){++state[0].parenlevel}else if(token.data===")"){--state[0].parenlevel}switch(token.data){case"{":++state[0].bracelevel;break;case"}":--state[0].bracelevel;break;case"(":++state[0].parenlevel;break;case")":--state[0].parenlevel;break}if(state[0].parenlevel<0)return unexpected("unexpected `)`");if(state[0].bracelevel<0)return unexpected("unexpected `}`");state[0].tokens.push(tokens.shift());return;function parseexpr(tokens){try{full_parse_expr(state,tokens)}catch(err){errored=true;throw err}return state.shift()}}function n(type){return function(){return mknode(type,token)}}function adhoc(){return mknode(token_map[token.type],token,node)}function decl(flags){var _=mknode(DECL,token,node);_.flags=flags;return _}function struct(allow_assign,allow_comma){var _=mknode(STRUCT,token,node);_.allow_assign=allow_assign===undefined?true:allow_assign;_.allow_comma=allow_comma===undefined?true:allow_comma;return _}function expr(){var n=mknode(EXPR,token,node);n.expecting=[].slice.call(arguments);return n}function keyword(default_value){var t=token;if(default_value){t={type:"(implied)",data:"(default)",position:t.position}}return mknode(KEYWORD,t,node)}function unexpected(str){errored=true;throw new Error((str||"unexpected "+state)+" at line "+state[0].token.line)}function assert(type,data){return 1,assert_null_string_or_array(type,token.type)&&assert_null_string_or_array(data,token.data)}function assert_null_string_or_array(x,y){switch(typeof x){case"string":if(y!==x){unexpected("expected `"+x+"`, got "+y+"\n"+token.data)}return!errored;case"object":if(x&&x.indexOf(y)===-1){unexpected("expected one of `"+x.join("`, `")+"`, got "+y)}return!errored}return true}function stative(){var steps=[].slice.call(arguments),step,result;return function(){var current=state[0];current.stage||(current.stage=0);step=steps[current.stage];if(!step)return unexpected("parser in undefined state!");result=step();if(result===Advance)return++current.stage;if(result===undefined)return;current.stage=result}}function advance(op,t){t=t||"operator";return function(){if(!assert(t,op))return;var last=tokens.shift(),children=state[0].children,last_node=children[children.length-1];if(last_node&&last_node.token&&last.preceding){last_node.token.succeeding=last_node.token.succeeding||[];last_node.token.succeeding=last_node.token.succeeding.concat(last.preceding)}return Advance}}function advance_expr(until){return function(){state.unshift(expr(until));return Advance}}function advance_ident(declare){return declare?function(){var name=token.data;return assert("ident")&&(state.unshift(ident()),state.scope.define(name),Advance)}:function(){if(!assert("ident"))return;var s=Object.create(state.scope.find(token.data));s.token=token;return tokens.shift(),Advance}}function advance_stmtlist(){return function(){var n=stmtlist();n.expecting="}";return state.unshift(n),Advance}}function maybe_stmtlist(skip){return function(){var current=state[0].stage;if(token.data!=="{"){return state.unshift(stmt()),current+skip}return tokens.shift(),Advance}}function popstmt(){return function(){return state.shift(),state.shift()}}function setup_stative_parsers(){parse_struct=stative(advance("struct","keyword"),function(){if(token.data==="{"){state.fake(mknode(IDENT,{data:"",position:token.position,type:"ident"}));return Advance}return advance_ident(true)()},function(){state.scope.enter();return Advance},advance("{"),function(){if(token.type==="preprocessor"){state.fake(adhoc());tokens.shift();return}if(token.data==="}"){state.scope.exit();tokens.shift();return state.shift()}if(token.data===";"){tokens.shift();return}state.unshift(decl(DECL_STRUCT))});parse_precision=stative(function(){return tokens.shift(),Advance},function(){return assert("keyword",["lowp","mediump","highp"])&&(state.unshift(keyword()),Advance)},function(){return state.unshift(keyword()),Advance},function(){return state.shift()});parse_quantifier=stative(advance("["),advance_expr("]"),advance("]"),function(){return state.shift()});parse_forloop=stative(advance("for","keyword"),advance("("),function(){var lookup;if(token.type==="ident"){if(!(lookup=state.scope.find(token.data))){lookup=state.create_node()}if(lookup.parent.type==="struct"){return state.unshift(decl(DECL_STATEMENT)),Advance}}else if(token.type==="builtin"||token.type==="keyword"){return state.unshift(decl(DECL_STATEMENT)),Advance}return advance_expr(";")()},advance(";"),advance_expr(";"),advance(";"),advance_expr(")"),advance(")"),maybe_stmtlist(3),advance_stmtlist(),advance("}"),popstmt());parse_if=stative(advance("if","keyword"),advance("("),advance_expr(")"),advance(")"),maybe_stmtlist(3),advance_stmtlist(),advance("}"),function(){if(token.data==="else"){return tokens.shift(),state.unshift(stmt()),Advance}return popstmt()()},popstmt());parse_return=stative(advance("return","keyword"),function(){if(token.data===";")return Advance;return state.unshift(expr(";")),Advance},function(){tokens.shift(),popstmt()()});parse_whileloop=stative(advance("while","keyword"),advance("("),advance_expr(")"),advance(")"),maybe_stmtlist(3),advance_stmtlist(),advance("}"),popstmt());parse_dowhileloop=stative(advance("do","keyword"),maybe_stmtlist(3),advance_stmtlist(),advance("}"),advance("while","keyword"),advance("("),advance_expr(")"),advance(")"),popstmt());parse_function=stative(function(){for(var i=1,len=state.length;i<len;++i)if(state[i].mode===FUNCTION){return unexpected("function definition is not allowed within another function")}return Advance},function(){if(!assert("ident"))return;var name=token.data,lookup=state.scope.find(name);state.unshift(ident());state.scope.define(name);state.scope.enter(lookup?lookup.scope:null);return Advance},advance("("),function(){return state.unshift(fnargs()),Advance},advance(")"),function(){if(token.data===";"){return state.scope.exit(),state.shift(),state.shift()}return Advance},advance("{"),advance_stmtlist(),advance("}"),function(){state.scope.exit();return Advance},function(){return state.shift(),state.shift(),state.shift()});parse_function_args=stative(function(){if(token.data==="void"){state.fake(keyword());tokens.shift();return Advance}if(token.data===")"){state.shift();return}if(token.data==="struct"){state.unshift(struct(NO_ASSIGN_ALLOWED,NO_COMMA_ALLOWED));return Advance}state.unshift(decl(DECL_FUNCTION));return Advance},function(){if(token.data===","){tokens.shift();return 0}if(token.data===")"){state.shift();return}unexpected("expected one of `,` or `)`, got "+token.data)})}}function mknode(mode,sourcetoken){return{mode:mode,token:sourcetoken,children:[],type:stmt_type[mode],id:(Math.random()*4294967295).toString(16)}}function is_storage(token){return token.data==="const"||token.data==="attribute"||token.data==="uniform"||token.data==="varying"}function is_parameter(token){return token.data==="in"||token.data==="inout"||token.data==="out"}function is_precision(token){return token.data==="highp"||token.data==="mediump"||token.data==="lowp"}},function(module,exports){var state,token,tokens,idx;var original_symbol={nud:function(){return this.children&&this.children.length?this:fail("unexpected")()},led:fail("missing operator")};var symbol_table={};function itself(){return this}symbol("(ident)").nud=itself;symbol("(keyword)").nud=itself;symbol("(builtin)").nud=itself;symbol("(literal)").nud=itself;symbol("(end)");symbol(":");symbol(";");symbol(",");symbol(")");symbol("]");symbol("}");infixr("&&",30);infixr("||",30);infix("|",43);infix("^",44);infix("&",45);infix("==",46);infix("!=",46);infix("<",47);infix("<=",47);infix(">",47);infix(">=",47);infix(">>",48);infix("<<",48);infix("+",50);infix("-",50);infix("*",60);infix("/",60);infix("%",60);infix("?",20,function(left){this.children=[left,expression(0),(advance(":"),expression(0))];this.type="ternary";return this});infix(".",80,function(left){token.type="literal";state.fake(token);this.children=[left,token];advance();return this});infix("[",80,function(left){this.children=[left,expression(0)];this.type="binary";advance("]");return this});infix("(",80,function(left){this.children=[left];this.type="call";if(token.data!==")")while(1){this.children.push(expression(0));if(token.data!==",")break;advance(",")}advance(")");return this});prefix("-");prefix("+");prefix("!");prefix("~");prefix("defined");prefix("(",function(){this.type="group";this.children=[expression(0)];advance(")");return this});prefix("++");prefix("--");suffix("++");suffix("--");assignment("=");assignment("+=");assignment("-=");assignment("*=");assignment("/=");assignment("%=");assignment("&=");assignment("|=");assignment("^=");assignment(">>=");assignment("<<=");module.exports=function(incoming_state,incoming_tokens){state=incoming_state;tokens=incoming_tokens;idx=0;var result;if(!tokens.length)return;advance();result=expression(0);result.parent=state[0];emit(result);if(idx<tokens.length){throw new Error("did not use all tokens")}result.parent.children=[result];function emit(node){state.unshift(node,false);for(var i=0,len=node.children.length;i<len;++i){emit(node.children[i])}state.shift()}};function symbol(id,binding_power){var sym=symbol_table[id];binding_power=binding_power||0;if(sym){if(binding_power>sym.lbp){sym.lbp=binding_power}}else{sym=Object.create(original_symbol);sym.id=id;sym.lbp=binding_power;symbol_table[id]=sym}return sym}function expression(rbp){var left,t=token;advance();left=t.nud();while(rbp<token.lbp){t=token;advance();left=t.led(left)}return left}function infix(id,bp,led){var sym=symbol(id,bp);sym.led=led||function(left){this.children=[left,expression(bp)];this.type="binary";return this}}function infixr(id,bp,led){var sym=symbol(id,bp);sym.led=led||function(left){this.children=[left,expression(bp-1)];this.type="binary";return this};return sym}function prefix(id,nud){var sym=symbol(id);sym.nud=nud||function(){this.children=[expression(70)];this.type="unary";return this};return sym}function suffix(id){var sym=symbol(id,150);sym.led=function(left){this.children=[left];this.type="suffix";return this}}function assignment(id){return infixr(id,10,function(left){this.children=[left,expression(9)];this.assignment=true;this.type="assign";return this})}function advance(id){var next,value,type,output;if(id&&token.data!==id){return state.unexpected("expected `"+id+"`, got `"+token.data+"`")}if(idx>=tokens.length){token=symbol_table["(end)"];return}next=tokens[idx++];value=next.data;type=next.type;if(type==="ident"){output=state.scope.find(value)||state.create_node();type=output.type}else if(type==="builtin"){output=symbol_table["(builtin)"]}else if(type==="keyword"){output=symbol_table["(keyword)"]}else if(type==="operator"){output=symbol_table[value];if(!output){return state.unexpected("unknown operator `"+value+"`")}}else if(type==="float"||type==="integer"){type="literal";output=symbol_table["(literal)"]}else{return state.unexpected("unexpected token.")}if(output){if(!output.nud){output.nud=itself}if(!output.children){output.children=[]}}output=Object.create(output);output.token=next;output.type=type;if(!output.data)output.data=value;return token=output}function fail(message){return function(){return state.unexpected(message)}}},function(module,exports){module.exports=scope;function scope(state){if(this.constructor!==scope)return new scope(state);this.state=state;this.scopes=[];this.current=null}var cons=scope,proto=cons.prototype;proto.enter=function(s){this.scopes.push(this.current=this.state[0].scope=s||{})};proto.exit=function(){this.scopes.pop();this.current=this.scopes[this.scopes.length-1]};proto.define=function(str){this.current[str]=this.state[0]};proto.find=function(name,fail){for(var i=this.scopes.length-1;i>-1;--i){if(this.scopes[i].hasOwnProperty(name)){return this.scopes[i][name]}}return null}},function(module,exports,__webpack_require__){var tokenize=__webpack_require__(15);module.exports=tokenizeString;function tokenizeString(str,opt){var generator=tokenize(opt);var tokens=[];tokens=tokens.concat(generator(str));tokens=tokens.concat(generator(null));return tokens}},function(module,exports,__webpack_require__){module.exports=tokenize;var literals100=__webpack_require__(16),operators=__webpack_require__(17),builtins100=__webpack_require__(18),literals300es=__webpack_require__(19),builtins300es=__webpack_require__(20);var NORMAL=999,TOKEN=9999,BLOCK_COMMENT=0,LINE_COMMENT=1,PREPROCESSOR=2,OPERATOR=3,INTEGER=4,FLOAT=5,IDENT=6,BUILTIN=7,KEYWORD=8,WHITESPACE=9,EOF=10,HEX=11;var map=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function tokenize(opt){var i=0,total=0,mode=NORMAL,c,last,content=[],tokens=[],token_idx=0,token_offs=0,line=1,col=0,start=0,isnum=false,isoperator=false,input="",len;opt=opt||{};var allBuiltins=builtins100;var allLiterals=literals100;if(opt.version==="300 es"){allBuiltins=builtins300es;allLiterals=literals300es}return function(data){tokens=[];if(data!==null)return write(data.replace?data.replace(/\r\n/g,"\n"):data);return end()};function token(data){if(data.length){tokens.push({type:map[mode],data:data,position:start,line:line,column:col})}}function write(chunk){i=0;input+=chunk;len=input.length;var last;while(c=input[i],i<len){last=i;switch(mode){case BLOCK_COMMENT:i=block_comment();break;case LINE_COMMENT:i=line_comment();break;case PREPROCESSOR:i=preprocessor();break;case OPERATOR:i=operator();break;case INTEGER:i=integer();break;case HEX:i=hex();break;case FLOAT:i=decimal();break;case TOKEN:i=readtoken();break;case WHITESPACE:i=whitespace();break;case NORMAL:i=normal();break}if(last!==i){switch(input[last]){case"\n":col=0;++line;break;default:++col;break}}}total+=i;input=input.slice(i);return tokens}function end(chunk){if(content.length){token(content.join(""))}mode=EOF;token("(eof)");return tokens}function normal(){content=content.length?[]:content;if(last==="/"&&c==="*"){start=total+i-1;mode=BLOCK_COMMENT;last=c;return i+1}if(last==="/"&&c==="/"){start=total+i-1;mode=LINE_COMMENT;last=c;return i+1}if(c==="#"){mode=PREPROCESSOR;start=total+i;return i}if(/\s/.test(c)){mode=WHITESPACE;start=total+i;return i}isnum=/\d/.test(c);isoperator=/[^\w_]/.test(c);start=total+i;mode=isnum?INTEGER:isoperator?OPERATOR:TOKEN;return i}function whitespace(){if(/[^\s]/g.test(c)){token(content.join(""));mode=NORMAL;return i}content.push(c);last=c;return i+1}function preprocessor(){if((c==="\r"||c==="\n")&&last!=="\\"){token(content.join(""));mode=NORMAL;return i}content.push(c);last=c;return i+1}function line_comment(){return preprocessor()}function block_comment(){if(c==="/"&&last==="*"){content.push(c);token(content.join(""));mode=NORMAL;return i+1}content.push(c);last=c;return i+1}function operator(){if(last==="."&&/\d/.test(c)){mode=FLOAT;return i}if(last==="/"&&c==="*"){mode=BLOCK_COMMENT;return i}if(last==="/"&&c==="/"){mode=LINE_COMMENT;return i}if(c==="."&&content.length){while(determine_operator(content));mode=FLOAT;return i}if(c===";"||c===")"||c==="("){if(content.length)while(determine_operator(content));token(c);mode=NORMAL;return i+1}var is_composite_operator=content.length===2&&c!=="=";if(/[\w_\d\s]/.test(c)||is_composite_operator){while(determine_operator(content));mode=NORMAL;return i}content.push(c);last=c;return i+1}function determine_operator(buf){var j=0,idx,res;do{idx=operators.indexOf(buf.slice(0,buf.length+j).join(""));res=operators[idx];if(idx===-1){if(j--+buf.length>0)continue;res=buf.slice(0,1).join("")}token(res);start+=res.length;content=content.slice(res.length);return content.length}while(1)}function hex(){if(/[^a-fA-F0-9]/.test(c)){token(content.join(""));mode=NORMAL;return i}content.push(c);last=c;return i+1}function integer(){if(c==="."){content.push(c);mode=FLOAT;last=c;return i+1}if(/[eE]/.test(c)){content.push(c);mode=FLOAT;last=c;return i+1}if(c==="x"&&content.length===1&&content[0]==="0"){mode=HEX;content.push(c);last=c;return i+1}if(/[^\d]/.test(c)){token(content.join(""));mode=NORMAL;return i}content.push(c);last=c;return i+1}function decimal(){if(c==="f"){content.push(c);last=c;i+=1}if(/[eE]/.test(c)){content.push(c);last=c;return i+1}if(c==="-"&&/[eE]/.test(last)){content.push(c);last=c;return i+1}if(/[^\d]/.test(c)){token(content.join(""));mode=NORMAL;return i}content.push(c);last=c;return i+1}function readtoken(){if(/[^\d\w_]/.test(c)){var contentstr=content.join("");if(allLiterals.indexOf(contentstr)>-1){mode=KEYWORD}else if(allBuiltins.indexOf(contentstr)>-1){mode=BUILTIN}else{mode=IDENT}token(content.join(""));mode=NORMAL;return i}content.push(c);last=c;return i+1}}},function(module,exports){module.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(module,exports){module.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(module,exports){module.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(module,exports,__webpack_require__){var v100=__webpack_require__(16);module.exports=v100.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(module,exports,__webpack_require__){var v100=__webpack_require__(18);v100=v100.slice().filter(function(b){return!/^(gl\_|texture)/.test(b)});module.exports=v100.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},function(module,exports){exports.gl_NumWorkGroups="uvec3";exports.gl_WorkGroupSize="uvec3";exports.gl_WorkGroupID="uvec3";exports.gl_LocalInvocationID="uvec3";exports.gl_GlobalInvocationID="uvec3";exports.gl_LocalInvocationIndex="uint";exports.gl_VertexID="int";exports.gl_InstanceID="int";exports.gl_Position="vec4";exports.gl_PointSize="float";exports.gl_ClipDistance="float";exports.gl_FragCoord="vec4";exports.gl_FragColor="vec4";exports.gl_FrontFacing="bool";exports.gl_PointCoord="vec2";exports.gl_PrimitiveID="int";exports.gl_SampleID="int";exports.gl_SamplePosition="vec2";exports.gl_SampleMaskIn="int";exports.gl_Layer="int";exports.gl_ViewportIndex="int";exports.gl_FragDepth="float";exports.gl_SampleMask="int"},function(module,exports,__webpack_require__){var Descriptor=__webpack_require__(24);var floatRE=/^-?[0-9]*(?:.[0-9]+)?(?:e-?[0-9]+)?$/i;exports.void=function(){return""};function bool(node){if(node==null)return Descriptor(false,{type:"bool",complexity:0});var result;if(node instanceof String){result=node.components[0]}else if(typeof node==="object"){result=this.process(node).components[0]}else{result=node}if(result=="true"||result===true)return Descriptor(true,{type:"bool",complexity:0});if(result=="false"||result===false)return Descriptor(false,{type:"bool",complexity:0});var num=floatRE.exec(result);if(num==null){return Descriptor("!!"+result,{type:"bool",
complexity:result.complexity+1})}return Descriptor(!!parseFloat(num),{type:"bool",complexity:0})}bool.type="bool";exports.bool=bool;function int(node){if(node==null)return Descriptor(0,{type:"int",complexity:0});if(typeof node!=="object")return Descriptor(+node|0,{type:"int",complexity:0});var result;if(node instanceof String){result=node.components[0]}else if(typeof node==="object"){result=this.process(node).components[0]}else{result=node}if(result=="true"||result===true)return Descriptor(1,{type:"int",complexity:0});if(result=="false"||result===false)return Descriptor(0,{type:"int",complexity:0});var num=floatRE.exec(result);if(num!=null){return Descriptor(+parseFloat(num)|0,{type:"int",complexity:0})}return Descriptor(result+"|0",{type:"int",complexity:result.complexity})}int.type="int";exports.int=exports.uint=exports.byte=exports.short=int;function float(node){if(node==null)return Descriptor(0,{type:"float",complexity:0});var result;if(node instanceof String){result=node.components[0]}else if(typeof node==="object"){result=this.process(node).components[0]}else{result=node}if(result=="true"||result===true)return Descriptor(1,{type:"float",complexity:0});if(result=="false"||result===false)return Descriptor(0,{type:"float",complexity:0});var num=floatRE.exec(result);if(num!=null){return Descriptor(+parseFloat(num),{type:"float",complexity:0})}else{if(result.type==="int"||result.type==="float"){return Descriptor(result,{type:"float",complexity:result.complexity})}else{return Descriptor("+"+result,{type:"float",complexity:result.complexity+1})}}}float.type="float";exports.float=exports.double=float;function createVec2(type,vecType){vec2.type=type;function vec2(x,y){if(x==null)x=0;if(y==null)y=x;var x=this.process(x);var y=this.process(y);var components=[],map=``,include;if(!subType(x.components[0].type,type)||!subType(y.components[0].type,type)){map=`.map(${type})`;include=type}if(this.types[x.type].length===2){return x}if(this.types[x.type].length>2){return Descriptor(`${x}.slice(0, 2)${map}`,{components:x.components.slice(0,2).map(this.types[type],this),type:vecType,complexity:x.complexity+2,include:include})}if(x===y){return Descriptor(`[0, 0].fill(${x})${map}`,{complexity:x.complexity+2,components:[x,y].map(this.types[type],this),type:vecType,include:include})}return Descriptor(`[${[x,y].join(", ")}]${map}`,{components:[x,y].map(this.types[type],this),type:vecType,complexity:x.complexity+y.complexity,include:include})}return vec2}function createVec3(type,vecType){vec3.type=type;function vec3(x,y,z){if(x==null)x=0;if(y==null)y=x;if(z==null)z=y;x=this.process(x);y=this.process(y);z=this.process(z);var components=[],map=``,include;if(!subType(x.components[0].type,type)||!subType(y.components[0].type,type)||!subType(z.components[0].type,type)){map=`.map(${type})`;include=type}if(this.types[x.type].length===3){return x}if(this.types[x.type].length>3){return Descriptor(`${x}.slice(0, 3)${map}`,{components:x.components.slice(0,3).map(this.types[type],this),type:vecType,complexity:x.complexity+3+3,include:include})}if(this.types[x.type].length===2){return Descriptor(`${x}.concat(${this.types.float.call(this,y)})${map}`,{components:x.components.concat(y.components[0]).map(this.types[type],this),type:vecType,complexity:x.complexity+y.complexity+3,include:include})}if(this.types[y.type].length>1){return Descriptor(`[${x}].concat(${this.types.vec2.call(this,y,z)})${map}`,{components:[x].concat(y.components.slice(0,2)).map(this.types[type],this),type:vecType,complexity:x.complexity+y.complexity+z.complexity+3,include:include})}return Descriptor(`[${[x,y,z].join(", ")}]${map}`,{components:[x,y,z].map(this.types[type],this),type:vecType,complexity:x.complexity+y.complexity+z.complexity+3,include:include})}return vec3}function createVec4(type,vecType){vec4.type=type;function vec4(x,y,z,w){if(x==null)x=0;if(y==null)y=x;if(z==null)z=y;if(w==null)w=z;var x=this.process(x);var y=this.process(y);var z=this.process(z);var w=this.process(w);var components=[],map=``,include;if(!subType(x.components[0].type,type)||!subType(y.components[0].type,type)||!subType(z.components[0].type,type)||!subType(w.components[0].type,type)){map=`.map(${type})`;include=type}if(/mat/.test(x.type)){return Descriptor(x,{components:x.components.map(this.types[type],this),type:vecType,include:include})}if(this.types[x.type].length>4){return Descriptor(`${x}.slice(0, 4)${map}`,{components:x.components.slice(0,4).map(this.types[type],this),type:vecType,include:include})}if(this.types[x.type].length===4){return x}if(this.types[x.type].length===3){return Descriptor(`${x}.concat(${this.types.float.call(this,y)})${map}`,{components:x.components.concat(y.components[0]).map(this.types[type],this),type:vecType,include:include})}if(this.types[x.type].length===2){if(this.types[y.type].length>1){return Descriptor(`${x}.concat(${this.types.vec2.call(this,y)})${map}`,{components:x.components.concat(y.components.slice(0,2)).map(this.types[type],this),type:vecType,include:include})}var res=Descriptor(`${x}.concat(${this.types.vec2.call(this,y,z)})${map}`,{components:x.components.concat(y.components[0],z.components[0]).map(this.types[type],this),type:vecType,include:include});return res}if(this.types[y.type].length===2){return Descriptor(`[${x}].concat(${this.types.vec2.call(this,y)}, ${this.types.float.call(this,z)})${map}`,{components:x.components.concat(y.components,z.components[0]).map(this.types[type],this),type:vecType,include:include})}if(this.types[y.type].length>2){return Descriptor(`[${x}].concat(${this.types.vec3.call(this,y,z,w)})${map}`,{components:x.components.concat(y.components.slice(0,3)).map(this.types[type],this),type:vecType,include:include})}if(this.types[z.type].length>1){return Descriptor(`[${x}].concat(${y}, ${this.types.vec2.call(this,z)})${map}`,{components:x.components.concat(y.components[0],z.components.slice(0,2)).map(this.types[type],this),type:vecType,include:include})}return Descriptor(`[${[x,y,z,w].join(", ")}]${map}`,{components:[x,y,z,w].map(this.types[type],this),type:vecType,include:include})}return vec4}exports.ivec2=createVec2("int","ivec2");exports.uvec2=createVec2("uint","uvec2");exports.bvec2=createVec2("bool","bvec2");exports.dvec2=createVec2("double","dvec2");exports.vec2=createVec2("float","vec2");exports.ivec3=createVec3("int","ivec3");exports.uvec3=createVec3("uint","uvec3");exports.bvec3=createVec3("bool","bvec3");exports.dvec3=createVec3("double","dvec3");exports.vec3=createVec3("float","vec3");exports.ivec4=createVec4("int","ivec4");exports.uvec4=createVec4("uint","uvec4");exports.bvec4=createVec4("bool","bvec4");exports.dvec4=createVec4("double","dvec4");exports.vec4=createVec4("float","vec4");function mat2(v0,v1){if(arguments.length>=4){var x0=this.process(arguments[0]);var y0=this.process(arguments[1]);var x1=this.process(arguments[2]);var y1=this.process(arguments[3]);var comps=[x0,y0,x1,y1];return Descriptor(`[${comps.join(", ")}]`,{components:comps,type:"mat2",complexity:cmpl(comps)})}if(v0==null)v0=1;var v0=this.process(v0);var v1=this.process(v1);if(this.types[v0.type].length===1){var res=Descriptor(`mat2(${v0})`,{components:[v0,0,0,v0].map(float,this),type:"mat2",complexity:v0.complexity*2+2,include:"mat2"});return res}if(v0.type==="mat2"){return v0}var comps=v0.components.slice(0,2).concat(v1.components.slice(0,2));return Descriptor(`${this.types.vec2.call(this,v0)}.concat(${this.types.vec2.call(this,v1)})`,{components:comps.map(float,this),complexity:cmpl(comps),type:"mat2"})}mat2.type="vec2";function mat3(v0,v1,v2){if(arguments.length>=9){var x0=this.process(arguments[0]);var y0=this.process(arguments[1]);var z0=this.process(arguments[2]);var x1=this.process(arguments[3]);var y1=this.process(arguments[4]);var z1=this.process(arguments[5]);var x2=this.process(arguments[6]);var y2=this.process(arguments[7]);var z2=this.process(arguments[8]);var comps=[x0,y0,z0,x1,y1,z1,x2,y2,z2];return Descriptor(`[${comps.join(", ")}]`,{components:comps,type:"mat3",complexity:cmpl(comps)})}if(v0==null)v0=1;var v0=this.process(v0);var v1=this.process(v1);var v2=this.process(v2);if(this.types[v0.type].length===1){var res=Descriptor(`mat3(${v0})`,{components:[v0,0,0,0,v0,0,0,0,v0].map(float,this),type:"mat3",include:"mat3",complexity:v0.complexity*3+6});return res}if(v0.type==="mat2"){return Descriptor(`[0,1,null, 2,3,null, null,null,-1].map(function (i) {return i == null ? 0 : i < 0 ? -i : this[i]}, ${v0})`,{components:[v0.components[0],v0.components[1],0,v0.components[2],v0.components[3],0,0,0,1].map(float,this),type:"mat3",complexity:9*3+v0.complexity})}if(v0.type==="mat3"){return v0}if(v0.type==="mat4"){var components=v0.components;return Descriptor(`${v0}.filter(function (x, i) { return i % 4 !== 3 && i < 12; })`,{components:components.slice(0,3).concat(components.slice(4,7),components.slice(8,11)).map(float,this),type:"mat3",complexity:16*3+v0.complexity})}var comps=v0.components.slice(0,3).concat(v1.components.slice(0,3),v2.components.slice(0,3));var res=Descriptor(`${this.types.vec3.call(this,v0)}.concat(${this.types.vec3.call(this,v1)}, ${this.types.vec3.call(this,v2)})`,{components:comps.map(float,this),type:"mat3",complexity:cmpl(comps)});return res}mat3.type="vec3";function mat4(v0,v1,v2,v3){if(arguments.length>=16){var x0=this.process(arguments[0]);var y0=this.process(arguments[1]);var z0=this.process(arguments[2]);var w0=this.process(arguments[3]);var x1=this.process(arguments[4]);var y1=this.process(arguments[5]);var z1=this.process(arguments[6]);var w1=this.process(arguments[7]);var x2=this.process(arguments[8]);var y2=this.process(arguments[9]);var z2=this.process(arguments[10]);var w2=this.process(arguments[11]);var x3=this.process(arguments[12]);var y3=this.process(arguments[13]);var z3=this.process(arguments[14]);var w3=this.process(arguments[15]);var comps=[x0,y0,z0,w0,x1,y1,z1,w1,x2,y2,z2,w2,x3,y3,z3,w3];return Descriptor(`[${comps.join(", ")}]`,{components:comps,type:"mat4",complexity:cmpl(comps)})}if(v0==null)v0=1;var v0=this.process(v0);var v1=this.process(v1);var v2=this.process(v2);var v3=this.process(v3);if(this.types[v0.type].length===1){var res=Descriptor(`mat4(${v0})`,{components:[v0,0,0,0,0,v0,0,0,0,0,v0,0,0,0,0,v0].map(float,this),type:"mat4",include:"mat4",complexity:v0.complexity*4+12});return res}if(v0.type==="mat2"){return Descriptor(`[0,1,null,null, 2,3,null,null, null,null,-1,null, null,null,null,-1].map(function (i) {return i == null ? 0 : i < 0 ? -i : this[i]}, ${v0})`,{components:[v0.components[0],v0.components[1],0,0,v0.components[2],v0.components[3],0,0,0,0,1,0,0,0,0,1].map(float,this),type:"mat4",complexity:16*3+v0.complexity})}if(v0.type==="mat3"){var components=v0.components;return Descriptor(`[0,1,2,null,3,4,5,null,6,7,8,null,null,null,null,-1].map(function (i) {return i == null ? 0 : i < 0 ? -i : this[i]}, ${v0})`,{components:components.slice(0,3).concat(0,components.slice(3,6),0,components.slice(6,9),0,0,0,0,1).map(float,this),type:"mat4",complexity:16*3+v0.complexity})}var comps=v0.components.slice(0,4).concat(v1.components.slice(0,4),v2.components.slice(0,4),v3.components.slice(0,4));return Descriptor(`${this.types.vec4.call(this,v0)}.concat(${this.types.vec4.call(this,v1)}, ${this.types.vec4.call(this,v2)}, ${this.types.vec4.call(this,v3)})`,{components:comps.map(float,this),type:"mat4",complexity:cmpl(comps)})}mat4.type="vec4";function cmpl(comps){if(Array.isArray(comps)){var sum=0;for(var i=0;i<comps.length;i++){sum+=comps[i].complexity||0}return sum}else return comps.complexity}function subType(subType,genType){subType+="";genType+="";if(subType===genType)return true;var typePriority=["double","float","int","uint"];var subIdx=typePriority.indexOf(subType);var genIdx=typePriority.indexOf(genType);if(subIdx>=0&&genIdx>=0&&subIdx>=genIdx)return true;return false}exports.mat2=mat2;exports.mat3=mat3;exports.mat4=mat4;exports.mat2x2=mat2;exports.mat3x3=mat3;exports.mat4x4=mat4;exports.dmat2=mat2;exports.dmat3=mat3;exports.dmat4=mat4;exports.dmat2x2=mat2;exports.dmat3x3=mat3;exports.dmat4x4=mat4;function createSampler(type,samplerType){sampler.type=type;function sampler(){var name=arguments[0];return Descriptor(null,{type:samplerType,include:"texture2D",complexity:999})}return sampler}exports.sampler1D=createSampler("vec4","sampler1D");exports.image1D=createSampler("vec4","image1D");exports.sampler2D=createSampler("vec4","sampler2D");exports.image2D=createSampler("vec4","image2D");exports.sampler3D=createSampler("vec4","sampler3D");exports.image3D=createSampler("vec4","image3D");exports.samplerCube=createSampler("vec4","samplerCube");exports.imageCube=createSampler("vec4","imageCube");exports.sampler2DRect=createSampler("vec4","sampler2DRect");exports.image2DRect=createSampler("vec4","image2DRect");exports.sampler1DArray=createSampler("vec4","sampler1DArray");exports.image1DArray=createSampler("vec4","image1DArray");exports.sampler2DArray=createSampler("vec4","sampler2DArray");exports.image2DArray=createSampler("vec4","image2DArray");exports.sampler1DShadow=createSampler("float","sampler1DShadow");exports.sampler2DShadow=createSampler("float","sampler2DShadow");exports.sampler2DRectShadow=createSampler("float","sampler2DRectShadow");exports.sampler1DArrayShadow=createSampler("float","sampler1DArrayShadow");exports.sampler2DArrayShadow=createSampler("float","sampler2DArrayShadow");exports.samplerCubeShadow=createSampler("float","samplerCubeShadow");exports.samplerCubeArrayShadow=createSampler("float","samplerCubeArrayShadow");exports.isampler1D=createSampler("ivec4","isampler1D");exports.iimage1D=createSampler("ivec4","iimage1D");exports.isampler2D=createSampler("ivec4","isampler2D");exports.iimage2D=createSampler("ivec4","iimage2D");exports.isampler3D=createSampler("ivec4","isampler3D");exports.iimage3D=createSampler("ivec4","iimage3D");exports.isamplerCube=createSampler("ivec4","isamplerCube");exports.iimageCube=createSampler("ivec4","iimageCube")},function(module,exports,__webpack_require__){var extend=__webpack_require__(21);var types=__webpack_require__(23);function Descriptor(str,options){if(str!=null){var descriptor=new String((str+"").trim());descriptor.visible=true}else{var descriptor=new String;descriptor.visible=false}if(str instanceof String){extend(descriptor,str)}if(options){descriptor.type=options.type;descriptor.components=options.components;descriptor.visible=options.visible;descriptor.complexity=options.complexity;descriptor.include=options.include;descriptor.optimize=options.optimize}if(descriptor.complexity==null||isNaN(descriptor.complexity)){descriptor.complexity=Math.max(50,descriptor.length)}if(descriptor.type==null){if(!(descriptor+"")){descriptor.type="void";descriptor.components=[]}else if(descriptor.components==null){descriptor.type="float";descriptor.components=[descriptor]}else{var l=descriptor.components.length;if(l===1)descriptor.type="float";else if(l<=4)descriptor.type="vec"+l;else descriptor.type="mat"+Math.sqrt(l)|0}}else if(descriptor.components==null){descriptor.components=[];var l=types[descriptor.type].length;if(/mat/.test(descriptor.type))l*=types[types[type].type].length;if(l===1){descriptor.components=[descriptor]}else{for(var i=0;i<l;i++){descriptor.components[i]=Descriptor(`${descriptor}[${i}]`,{complexity:1+descriptor.complexity})}}}if(descriptor.optimize==null){descriptor.optimize=descriptor.components.every(function(comp){return!!comp&&comp.optimize!==false})}return descriptor}module.exports=Descriptor},function(module,exports,__webpack_require__){var Descriptor=__webpack_require__(24);var floatRE=/^-?[0-9]*(?:.[0-9]+)?(?:e-?[0-9]+)?$/i;var operators=processOperation.operators={"*":"multiply","+":"add","-":"subtract","/":"divide","%":"mod","<<":"lshift",">>":"rshift","==":"equal","<":"less",">":"greater","&&":"and","&=":"and_eq","&":"bitand","|":"bitor","!=":"not_eq","||":"or","|=":"or_eq","^":"xor","^=":"xor_eq"};var opsRE=/\*|\+|\-|\/|\%|\<|\=|\>|\&|\||\!|\^|\~/;function processOperation(left,right,operator){var self=this;var leftType=left.type;var rightType=right.type;var operatorName=operators[operator];if(this.types[leftType].length==1&&this.types[rightType].length==1){var a=left,b=right;var res=Descriptor(calculate(a,b,operator),{components:[calculate(a,b,operator)],type:leftType,complexity:a.complexity+b.complexity+1});return res}if(this.types[leftType].length==1||this.types[rightType].length==1){var outType=this.types[leftType].length==1?rightType:leftType;var vec=this.types[leftType].length==1?right:left;var scalar=this.types[leftType].length==1?left:right;var l=this.types[outType].length;if(/mat/.test(outType))l*=this.types[this.types[outType].type].length;var operands=[];for(var i=0;i<l;i++){if(this.types[rightType].length==1){var rightOp=right,leftOp=left.components[i]}else{var rightOp=right.components[i],leftOp=left}operands.push(calculate(leftOp,rightOp,operator))}if(scalar.optimize){var calcStr=this.types[rightType].length==1?calculate("_",scalar,operator):calculate(scalar,"_",operator);return Descriptor(`${vec}.map(function (_) {return ${calcStr};})`,{components:operands,type:outType,complexity:vec.complexity+l*(scalar.complexity+2)+1})}else{var calcStr=this.types[rightType].length==1?calculate("_","this",operator):calculate("this","_",operator);return Descriptor(`${vec}.map(function (_) {return ${calcStr};}, ${scalar})`,{components:operands,type:outType,complexity:vec.complexity+l*(scalar.complexity+2)+1})}}if(/vec/.test(leftType)&&/vec/.test(rightType)){var outType=this.types[leftType].length==1?rightType:leftType;var l=this.types[outType].length;var operands=[];for(var i=0;i<l;i++){var leftOp=left.components[i],rightOp=right.components[i];operands.push(calculate(leftOp,rightOp,operator))}var include={};include[leftType]=operatorName;var res=Descriptor(`${leftType}.${operatorName}([], ${left}, ${right})`,{components:operands,type:outType,complexity:left.complexity+right.complexity+l*3+1,include:include});return res}if(/mat/.test(leftType)&&/mat/.test(rightType)&&operator!=="*"){var outType=this.types[leftType].length==1?rightType:leftType;var l=this.types[outType].length*this.types[this.types[outType].type].length;var operands=[];for(var i=0;i<l;i++){var leftOp=left.components[i],rightOp=right.components[i];operands.push(calculate(leftOp,rightOp,operator))}var res=Descriptor(`${left}.map(function (x, i, m){ return x ${operator} this[i];}, ${right})`,{components:operands,complexity:left.complexity+right.complexity+l*3,type:outType});return res}if((/mat/.test(leftType)||/mat/.test(rightType))&&operator==="*"){if(/vec/.test(leftType)){var outType=leftType;var l=this.types[outType].length;var operands=[];var leftOp=left;var dotComponents=[];for(var i=0;i<l;i++){var start=l*i;var end=l*i+l;var rightOp=Descriptor(`${right}.slice(${start}, ${end})`,{type:this.types[leftType].type,complexity:right.complexity+l,components:right.components.slice(start,end)});rightOp=this.optimizeDescriptor(rightOp);operands.push(`dot(${leftOp}, ${rightOp})`);dotComponents.push(calculate(`this[${calculate("o",i,"+")}]`,`v[${i}]`,"*"))}this.addInclude("dot");var res=Descriptor(`${leftOp}.map(function (x, i, v) { var o = i * ${l}; return ${dotComponents.join(" + ")};}, ${right})`,{components:operands,complexity:left.complexity+right.complexity+l*(l+3),type:outType});return res}if(/vec/.test(rightType)){var outType=leftType;var vec=right;var mat=left;var l=this.types[outType].length;var comps=[];for(var i=0;i<l;i++){var sum=[];for(var j=0;j<l;j++){var mc=mat.components[j*l+i];var vc=vec.components[j];sum.push(calculate(mc,vc,"*"))}comps.push(sum.join(" + "))}var res=Descriptor(`${vec}.map(function (x, i, v) { var sum = 0; for (var j = 0; j < ${l}; j++) {sum += ${calculate("this[j*"+l+"+i]","v[j]","*")}} return sum; }, ${mat})`,{components:comps,type:outType,complexity:vec.complexity+mat.complexity+l*l*3});return res}var outType=leftType;var l=left;var r=right;var len=this.types[this.types[outType].type].length;var comps=[];for(var i=0;i<len;i++){for(var j=0;j<len;j++){var sum=[];for(var o=0;o<len;o++){var mc=left.components[len*o+i],nc=right.components[j*len+o];sum.push(calculate(mc,nc,"*"))}comps[j*len+i]=sum.join(" + ")}}var res=Descriptor(`matrixMult(${l}, ${r})`,{components:comps,type:outType,include:"matrixMult"});return res}throw Error(`Impossible to render ${leftType} ${operator} ${rightType}.`);function calculate(left,right,operator){var opResult=undefined;if(floatRE.test(left)&&floatRE.test(right)){opResult=eval(`${left} ${operator} ${right}`)}if(operator=="+"||operator=="-"){if(left==0)opResult=right;if(right==0)opResult=left}else if(operator=="*"){if(left==0||right==0)opResult=0;else if(parseFloat(left)===1)opResult=right;else if(parseFloat(right)===1)opResult=left}if(opResult==null){opResult=`${left} ${operator} ${right}`}opResult=Descriptor(opResult,{complexity:1+left.complexity||0+right.complexity||0,optimize:left.optimize!==false&&right.optimize!==false});return opResult}}module.exports=processOperation},function(module,exports,__webpack_require__){var operators=__webpack_require__(25).operators;function bool(val){return!!val}function int(val){return val|0}function float(val){return+val}function vec2(x,y){if(x==null)x=0;if(y==null)y=x;return[x,y]}function vec3(x,y,z){if(x==null)x=0;if(y==null)y=x;if(z==null)z=y;return[x,y,z]}function vec4(x,y,z,w){if(x==null)x=0;if(y==null)y=x;if(z==null)z=y;if(w==null)w=z;return[x,y,z,w]}function mat2(x){if(x==null)x=1;if(x.length===4)return x;if(x.length===2)return[x[0],0,0,x[1]];return[x,0,0,x]}function mat3(x){if(x==null)x=1;if(x.length===9)return x;if(x.length===3)return[x[0],0,0,0,x[1],0,0,0,x[2]];return[x,0,0,0,x,0,0,0,x]}function mat4(x){if(x==null)x=1;if(x.length===16)return x;if(x.length===4)return[x[0],0,0,0,0,x[1],0,0,0,0,x[2],0,0,0,0,x[3]];return[x,0,0,0,0,x,0,0,0,0,x,0,0,0,0,x]}createOperations(vec2,2);createOperations(vec3,3);createOperations(vec4,4);createOperations(mat2,4);function createOperations(obj,len){for(var operator in operators){var comps=[];for(var i=0;i<len;i++){comps.push(`out[${i}] = a[${i}] ${operator} b[${i}]`)}obj[operators[operator]]=new Function("out","a","b",`${comps.join(";\n")}
return out;`)}}function radians(degrees){if(degrees.length)return degrees.map(radians);return degrees*.017453292519943295}function degrees(radians){if(radians.length)return radians.map(degrees);return radians*57.29577951308232}function sin(angle){if(angle.length)return angle.map(sin);return Math.sin(angle)}function cos(angle){if(angle.length)return angle.map(cos);return Math.cos(angle)}function tan(angle){if(angle.length)return angle.map(tan);return Math.tan(angle)}function asin(x){if(x.length)return x.map(asin);return Math.asin(x)}function acos(x){if(x.length)return x.map(acos);return Math.acos(x)}function atan(y,x){if(arguments.length>1){if(y.length)return y.map(function(y,i){return Math.atan2(y,x[i])});return Math.atan2(y,x)}if(y.length)return y.map(function(y,i){return Math.atan(y)});return Math.atan(y)}function pow(x,y){if(x.length)return x.map(function(x,i){return Math.pow(x,y[i])});return Math.pow(x,y)}function exp(x){if(x.length)return x.map(exp);return Math.exp(x)}function log(x){if(x.length)return x.map(log);return Math.log(x)}var log2=Math.log2?function log2(x){if(x.length)return x.map(log2);return Math.log2(x)}:function log2(x){if(x.length)return x.map(log2);return Math.log(x)/Math.LN2};function exp2(x){if(x.length)return x.map(exp2);return Math.pow(2,x)}function sqrt(x){if(x.length)return x.map(sqrt);return Math.sqrt(x)}function inversesqrt(x){if(x.length)return x.map(inversesqrt);return 1/Math.sqrt(x)}function abs(x){if(x.length)return x.map(abs);return Math.abs(x)}function floor(x){if(x.length)return x.map(floor);return Math.floor(x)}function ceil(x){if(x.length)return x.map(ceil);return Math.ceil(x)}var sign=Math.sign?function sign(x){if(x.length)return x.map(sign);return Math.sign(x)}:function sign(x){if(x.length)return x.map(sign);x=+x;if(x===0||isNaN(x)){return x}return x>0?1:-1};function fract(x){if(x.length)return x.map(fract);return x-Math.floor(x)}function mod(x,y){if(x.length){if(y.length)return x.map(function(x,i){return x%y[i]});return x.map(function(x,i){return x%y})}return x%y}function min(x,y){if(x.length){if(y.length)return x.map(function(x,i){return Math.min(x,y[i])});return x.map(function(x,i){return Math.min(x,y)})}return Math.min(x,y)}function max(x,y){if(x.length){if(y.length)return x.map(function(x,i){return Math.max(x,y[i])});return x.map(function(x,i){return Math.max(x,y)})}return Math.max(x,y)}function clamp(x,min,max){if(x.length){if(min.length)return x.map(function(x,i){return Math.min(Math.max(x,min[i]),max[i])});return x.map(function(x,i){return Math.min(Math.max(x,min),max)})}return Math.min(Math.max(x,min),max)}function mix(x,y,a){if(x.length){if(a.length)return x.map(function(x,i){return mix(x,y[i],a[i])});return x.map(function(x,i){return mix(x,y[i],a)})}return x*(1-a)+y*a}function step(edge,x){if(x.length){if(edge.length)return x.map(function(x,i){return step(edge[i],x)});return x.map(function(x,i){return step(edge,x)})}return x<edge?0:1}step.type=function(node){return this.process(node.children[1]).type};function smoothstep(edge0,edge1,x){if(x.length){if(edge0.length)return x.map(function(x,i){return smoothstep(edge0[i],edge1[i],x)});return x.map(function(x,i){return smoothstep(edge0,edge1,x)})}var t=Math.min(Math.max((x-edge0)/(edge1-edge0),0),1);return t*t*(3-2*t)}function length(x){var sum=0;for(var i=0;i<x.length;i++){sum+=x[i]*x[i]}return Math.sqrt(sum)}length.type="float";function distance(x,y){var sum=0;for(var i=0;i<x.length;i++){sum+=(x[i]-y[i])*(x[i]-y[i])}return Math.sqrt(sum)}distance.type="float";function dot(x,y){var sum=0;for(var i=0;i<x.length;i++){sum+=x[i]*y[i]}return sum}dot.type="float";function cross(x,y){var x0=x[0],x1=x[1],x2=x[2],y0=y[0],y1=y[1],y2=y[2];var out=[0,0,0];out[0]=x1*y2-x2*y1;out[1]=x2*y0-x0*y2;out[2]=x0*y1-x1*y0;return out}cross.type="vec3";function normalize(x){var len=0;for(var i=0;i<x.length;i++){len+=x[i]*x[i]}var out=Array(x.length).fill(0);if(len>0){len=1/Math.sqrt(len);for(var i=0;i<x.length;i++){out[i]=x[i]*len}}return out}function faceforward(N,I,Nref){if(Nref==null)Nref=N;var dot=0;for(var i=0;i<N.length;i++){dot+=Nref[i]*I[i]}return dot>0?N.map(function(x){return-x}):N}function reflect(I,N){var dot=0;for(var i=0;i<N.length;i++){dot+=N[i]*I[i]}var out=Array(N.length);for(var i=0;i<N.length;i++){out[i]=I[i]-2*dot*N[i]}return out}function refract(I,N,eta){var dot=0;for(var i=0;i<N.length;i++){dot+=N[i]*I[i]}var k=1-eta*eta*(1-dot*dot);var out=Array(N.length).fill(0);if(k>0){for(var i=0;i<N.length;i++){out[i]=eta*I[i]-(eta*dot+Math.sqrt(k))*N[i]}}return out}function lessThan(x,y){if(x.length){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=x[i]<y[i]}return out}return x<y}function lessThanEqual(x,y){if(x.length){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=x[i]<=y[i]}return out}return x<=y}function greaterThan(x,y){if(x.length){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=x[i]>y[i]}return out}return x>y}function greaterThanEqual(x,y){if(x.length){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=x[i]>=y[i]}return out}return x>=y}function equal(x,y){if(x.length){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=x[i]==y[i]}return out}return x==y}function notEqual(x,y){if(x.length){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=x[i]!=y[i]}return out}return x!=y}function any(x){return x.some(function(x){return x})}function all(x){return x.every(function(x){return x})}function not(x){if(x.length){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=!x[i]}return out}return!x}function matrixCompMult(x,y){var out=Array(x.length);for(var i=0;i<x.length;i++){out[i]=x[i]*y[i]}return out}function outerProduct(c,r){var out=[];var l=c.length;for(var i=0;i<c.length;i++){for(var j=0;j<r.length;j++){out[i*l+j]=c[i]*r[j]}}return out}outerProduct.type=function(node){var child1Type=this.process(node.children[1]).type;var child2Type=this.process(node.children[2]).type;var dim1=child1Type.slice(-1);var dim2=child2Type.slice(-1);return`mat${dim1}x${dim2}`};function transpose(m){var l=m.length===16?4:m.length===9?3:2;var out=Array(m.length);for(var i=0;i<l;i++){for(var j=0;j<l;j++){out[j*l+i]=m[i*l+j]}}return out}function determinant(m){if(m.length===4){return m[0]*m[3]-m[1]*m[2]}if(m.length===9){var a00=m[0],a01=m[1],a02=m[2],a10=m[3],a11=m[4],a12=m[5],a20=m[6],a21=m[7],a22=m[8];return a00*a11*a22+a01*a12*a20+a02*a10*a21-a02*a11*a20-a01*a10*a22-a00*a12*a21}var a00=m[0],a01=m[1],a02=m[2],a03=m[3],a10=m[4],a11=m[5],a12=m[6],a13=m[7],a20=m[8],a21=m[9],a22=m[10],a23=m[11],a30=m[12],a31=m[13],a32=m[14],a33=m[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32;return b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06}determinant.type="float";function inverse(a){var l=a.length;var out=Array(l);if(l===4){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;if(!det){return out}det=1/det;out[0]=a3*det;out[1]=-a1*det;out[2]=-a2*det;out[3]=a0*det;return out}if(l===9){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;if(!det){return out}det=1/det;out[0]=b01*det;out[1]=(-a22*a01+a02*a21)*det;out[2]=(a12*a01-a02*a11)*det;out[3]=b11*det;out[4]=(a22*a00-a02*a20)*det;out[5]=(-a12*a00+a02*a10)*det;out[6]=b21*det;out[7]=(-a21*a00+a01*a20)*det;out[8]=(a11*a00-a01*a10)*det;return out}var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;if(!det){return out}det=1/det;out[0]=(a11*b11-a12*b10+a13*b09)*det;out[1]=(a02*b10-a01*b11-a03*b09)*det;out[2]=(a31*b05-a32*b04+a33*b03)*det;out[3]=(a22*b04-a21*b05-a23*b03)*det;out[4]=(a12*b08-a10*b11-a13*b07)*det;out[5]=(a00*b11-a02*b08+a03*b07)*det;out[6]=(a32*b02-a30*b05-a33*b01)*det;out[7]=(a20*b05-a22*b02+a23*b01)*det;out[8]=(a10*b10-a11*b08+a13*b06)*det;out[9]=(a01*b08-a00*b10-a03*b06)*det;out[10]=(a30*b04-a31*b02+a33*b00)*det;out[11]=(a21*b02-a20*b04-a23*b00)*det;out[12]=(a11*b07-a10*b09-a12*b06)*det;out[13]=(a00*b09-a01*b07+a02*b06)*det;out[14]=(a31*b01-a30*b03-a32*b00)*det;out[15]=(a20*b03-a21*b01+a22*b00)*det;return out}function matrixMult(m,n){var l=m.length===16?4:m.length===9?3:2;var out=Array(m.length);for(var i=0;i<l;i++){for(var j=0;j<l;j++){var sum=0;for(var o=0;o<l;o++){sum+=m[l*o+i]*n[j*l+o]}out[j*l+i]=sum}}return out}function texture(sampler,coord,bias){var size=textureSize(sampler);var x=coord[0]%1*size[0]|0;var y=coord[1]%1*size[1]|0;var idx=y*4*size[0]+x*4;if(sampler.data){return sampler.data.slice(idx,idx+4)}return sampler.slice(idx,idx+4)}texture.include=["textureSize"];texture.type=function(node){var samplerType=this.process(node.children[1]).type;return this.types[samplerType].type};function textureSize(sampler,lod){if(sampler.shape)return[sampler.shape[0],sampler.shape[1]];return[sampler.width,sampler.height]}texture.type=function(node){var samplerType=this.process(node.children[1]).type;if(/1D/.test(samplerType))return"int";if(/2D|Cube/.test(samplerType))return"ivec2";return"ivec3"};exports.bool=bool;exports.int=int;exports.uint=int;exports.float=float;exports.double=float;exports.vec2=vec2;exports.vec3=vec3;exports.vec4=vec4;exports.dvec2=vec2;exports.dvec3=vec3;exports.dvec4=vec4;exports.ivec2=vec2;exports.ivec3=vec3;exports.ivec4=vec4;exports.uvec2=vec2;exports.uvec3=vec3;exports.uvec4=vec4;exports.mat2=mat2;exports.mat3=mat3;exports.mat4=mat4;exports.mat3x3=mat3;exports.mat4x4=mat4;exports.radians=radians;exports.degrees=degrees;exports.sin=sin;exports.cos=cos;exports.tan=tan;exports.asin=asin;exports.acos=acos;exports.atan=atan;exports.pow=pow;exports.exp=exp;exports.log=log;exports.log2=log2;exports.exp2=exp2;exports.sqrt=sqrt;exports.inversesqrt=inversesqrt;exports.abs=abs;exports.sign=sign;exports.floor=floor;exports.ceil=ceil;exports.fract=fract;exports.mod=mod;exports.min=min;exports.max=max;exports.clamp=clamp;exports.mix=mix;exports.step=step;exports.smoothstep=smoothstep;exports.length=length;exports.distance=distance;exports.dot=dot;exports.cross=cross;exports.faceforward=faceforward;exports.normalize=normalize;exports.reflect=reflect;exports.refract=refract;exports.lessThan=lessThan;exports.lessThanEqual=lessThanEqual;exports.greaterThan=greaterThan;exports.greaterThanEqual=greaterThanEqual;exports.equal=equal;exports.notEqual=notEqual;exports.any=any;exports.all=all;exports.not=not;exports.matrixCompMult=matrixCompMult;exports.matrixMult=matrixMult;exports.outerProduct=outerProduct;exports.transpose=transpose;exports.determinant=determinant;exports.inverse=inverse;exports.texture1D=exports.texture2D=exports.texture3D=exports.textureCube=exports.shadow1D=exports.shadow2D=exports.shadow3D=exports.texture=texture;exports.textureSize=textureSize},function(module,exports){"use strict";module.exports=flatten;module.exports.from=flattenFrom;module.exports.depth=flattenDepth;module.exports.fromDepth=flattenFromDepth;function flatten(array){if(!Array.isArray(array)){throw new TypeError("Expected value to be an array")}return flattenFrom(array)}function flattenFrom(array){return flattenDown(array,[])}function flattenDepth(array,depth){if(!Array.isArray(array)){throw new TypeError("Expected value to be an array")}return flattenFromDepth(array,depth)}function flattenFromDepth(array,depth){if(typeof depth!=="number"){throw new TypeError("Expected the depth to be a number")}return flattenDownDepth(array,[],depth)}function flattenDown(array,result){for(var i=0;i<array.length;i++){var value=array[i];if(Array.isArray(value)){flattenDown(value,result)}else{result.push(value)}}return result}function flattenDownDepth(array,result,depth){depth--;for(var i=0;i<array.length;i++){var value=array[i];if(depth>-1&&Array.isArray(value)){flattenDownDepth(value,result,depth)}else{result.push(value)}}return result}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(process){var paren=__webpack_require__(29);var balanced=__webpack_require__(30);var extend=__webpack_require__(21);function preprocess(what,how){var result="";var source=what+"";var macros=extend({__LINE__:0,__FILE__:"_",__VERSION__:100,defined:function(arg){return[].slice.call(arguments).every(function(arg){return macros[arg]!=null})}},how);return process(source);function process(str){if(!str)return"";var arr=[];var chunk=str;var directive=/#[A-Za-z0-9_$]+/gi.exec(str);if(directive){chunk=chunk.slice(0,directive.index);str=str.slice(directive.index)}chunk=escape(chunk,arr);chunk=chunk.replace(/\bdefined\s*([A-Za-z0-9_$]+)/g,"defined($1)");for(var name in macros){if(macros[name]instanceof Function){chunk=processFunction(chunk,name,macros[name])}}chunk=escape(chunk,arr);for(var name in macros){if(!(macros[name]instanceof Function)){chunk=processDefinition(chunk,name,macros[name])}}chunk=unescape(chunk,arr);if(directive){if(/^#def/.test(directive[0])){str=!(__WEBPACK_AMD_DEFINE_FACTORY__=str,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else if(/^#undef/.test(directive[0])){str=undefine(str)}else if(/^#if/.test(directive[0])){str=processIf(str)}else if(/^#line/.test(directive[0])){var data=/#[A-Za-z0-9_]+\s*([-0-9]+)?[^\n]*/.exec(str);macros.__LINE__=parseInt(data[1]);str=str.slice(data.index+data[0].length)}else if(/^#version/.test(directive[0])){var data=/#[A-Za-z0-9_]+\s*([-0-9]+)?[^\n]*/.exec(str);macros.__VERSION__=parseInt(data[1]);str=str.slice(data.index+data[0].length)}else{var directiveDecl=/\n/m.exec(str);chunk+=str.slice(0,directiveDecl.index)+"\n";str=str.slice(directiveDecl.index)}return chunk+process(str)}return chunk}function processFunction(str,name,fn){var arr=[];str=escape(str,arr);var parts=paren(str,{flat:true,brackets:"()",escape:"___"});var re=new RegExp(name+"\\s*\\(___([0-9]+)\\)","g");parts=parts.map(function(part){return part.replace(re,function(match,argsPartIdx){var args=parts[argsPartIdx];if(args.trim().length){args=args.split(/\s*,\s*/);args=args.map(function(arg){var argParts=parts.slice();argParts[0]=arg;return paren.stringify(argParts,{flat:true,escape:"___"})}).map(function(arg){return arg})}else{args=[]}if(args.length!=fn.length)throw Error(`macro "${name}" requires ${fn.length} arguments, but ${args.length} given`);return fn.apply(null,args)})});str=paren.stringify(parts,{flat:true,escape:"___"});str=unescape(str,arr);return str}function processDefinition(str,name,value){var arr=[];str=escape(str,arr);str=str.replace(new RegExp(`([^#A-Za-z0-9_$]|^)${name}\\s*##\\s*([A-Za-z0-9_$]*)`,"g"),function(match,pre,post){return pre+value+post});str=str.replace(new RegExp(`([A-Za-z0-9_$]*)\\s*##\\s*${name}([^A-Za-z0-9_$]|$)`,"g"),function(match,pre,post){return pre+value+post});str=str.replace(new RegExp(`([^#A-Za-z0-9_$]|^)${name}([^A-Za-z0-9_$]|$)`,"g"),function(match,pre,post){if(macros[value]!=null&&!(macros[value]instanceof Function))value=macros[value];return pre+value+post});str=str.replace(new RegExp(`#${name}([^A-Za-z0-9_$]|$)`,"g"),function(match,post){return'"'+value+'"'+post});str=unescape(str,arr);return str}function escape(str,arr){str=str.replace(/\/\/[^\n]*$/gm,function(match){return" ___comment"+arr.push(match)});str=str.replace(/\/\*([^\*]|[\r\n]|(\*+([^\*\/]|[\r\n])))*\*+\//g,function(match){return" ___comment"+arr.push(match)});str=str.replace(/\'[^']*\'/g,function(match){return" ___string"+arr.push(match)});str=str.replace(/\"[^"]*\"/g,function(match){return" ___string"+arr.push(match)});str=str.replace(/\`[^`]*\`/g,function(match){return" ___string"+arr.push(match)});return str}function unescape(str,arr){arr.forEach(function(rep,i){str=str.replace(" ___string"+(i+1),rep)});arr.forEach(function(value,i){str=str.replace(" ___comment"+(i+1),value)});return str}function define(str){var data=/#[A-Za-z]+[ ]*([A-Za-z0-9_$]*)(?:\(([^\(\)]*)\))?[ \r]*([^\n]*)$/m.exec(str);str=str.slice(data.index+data[0].length);var name=data[1];var args=data[2];var value=data[3];if(!name||!value)throw Error(`Macro definition "${data[0]}" is malformed`);if(args!=null){if(args.trim().length){args=args.split(/\s*,\s*/)}else{args=[]}function fn(){var result=value;for(var i=0;i<args.length;i++){result=processDefinition(result,args[i],arguments[i])}result=process(result);return result}Object.defineProperty(fn,"length",{value:args.length});macros[name]=fn}else{macros[name]=value}return str}function undefine(str){var data=/#[A-Za-z0-9_]+[ ]*([A-Za-z0-9_$]+)/.exec(str);delete macros[data[1]];return str.slice(data.index+data[0].length)}function processIf(str){var match=balanced("#if","#endif",str);if(!match)return str;var body=match.body;var post=match.post;var elseBody="";var matchElse;if(matchElse=/^\s*#else[^\n\r]*$/m.exec(body)){elseBody=body.slice(matchElse.index+matchElse[0].length);body=body.slice(0,matchElse.index)}if(/^def/.test(body)){body=body.slice(3);var nameMatch=/[A-Za-z0-9_$]+/.exec(body);var name=nameMatch[0];body=body.slice(name.length+nameMatch.index);if(macros[name]!=null)str=process(body);else str=process(elseBody)}else if(/^ndef/.test(body)){body=body.slice(4);var nameMatch=/[A-Za-z0-9_$]+/.exec(body);var name=nameMatch[0];body=body.slice(name.length+nameMatch.index);if(macros[name]==null)str=process(body);else str=process(elseBody)}else{var clauses=body.split(/^\s*#elif\s+/m);var result=false;for(var i=0;i<clauses.length;i++){var clause=clauses[i];var exprMatch=/\s*(.*)/.exec(clause);var expr=exprMatch[0];clause=clause.slice(expr.length+exprMatch.index);expr=process(expr);try{result=eval(expr)}catch(e){result=false}if(result){str=process(clause);break}}if(!result){str=process(elseBody)}}var match=/[\n\r]/.exec(post);if(match)post=post.slice(match.index);return str+post}}module.exports=preprocess}).call(exports,__webpack_require__(6))},function(module,exports){function parse(str,opts){if(typeof str!=="string")return[str];var res=[str];opts=opts||{};var brackets=opts.brackets?Array.isArray(opts.brackets)?opts.brackets:[opts.brackets]:["{}","[]","()"];var escape=opts.escape||"___";var flat=!!opts.flat;brackets.forEach(function(bracket){var pRE=new RegExp(["\\",bracket[0],"[^\\",bracket[0],"\\",bracket[1],"]*\\",bracket[1]].join(""));var ids=[];function replaceToken(token,idx,str){var refId=res.push(token.slice(bracket[0].length,-bracket[1].length))-1;ids.push(refId);return escape+refId}res.forEach(function(str,i){var prevStr;var a=0;while(str!=prevStr){prevStr=str;str=str.replace(pRE,replaceToken);if(a++>1e4)throw Error("References have circular dependency. Please, check them.")}res[i]=str});ids=ids.reverse();res=res.map(function(str){ids.forEach(function(id){str=str.replace(new RegExp("(\\"+escape+id+"(?![0-9]))","g"),bracket[0]+"$1"+bracket[1])});return str})});var re=new RegExp("\\"+escape+"([0-9]+)");function nest(str,refs,escape){var res=[],match;var a=0;while(match=re.exec(str)){if(a++>1e4)throw Error("Circular references in parenthesis");res.push(str.slice(0,match.index));res.push(nest(refs[match[1]],refs));str=str.slice(match.index+match[0].length)}res.push(str);return res}return flat?res:nest(res[0],res)}function stringify(arg,opts){if(opts&&opts.flat){var escape=opts&&opts.escape||"___";var str=arg[0],prevStr;if(!str)return"";function replaceRef(match,idx){if(arg[idx]==null)throw Error("Reference "+idx+"is undefined");return arg[idx]}var re=new RegExp("\\"+escape+"([0-9]+)");var a=0;while(str!=prevStr){if(a++>1e4)throw Error("Circular references in "+arg);prevStr=str;str=str.replace(re,replaceRef)}return str}return arg.reduce(function f(prev,curr){if(Array.isArray(curr)){curr=curr.reduce(f,"")}return prev+curr},"")}function parenthesis(arg,opts){if(Array.isArray(arg)){return stringify(arg,opts)}else{return parse(arg,opts)}}parenthesis.parse=parse;parenthesis.stringify=stringify;module.exports=parenthesis},function(module,exports){module.exports=balanced;function balanced(a,b,str){var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}balanced.range=range;function range(a,b,str){var begs,beg,left,right,result;var ai=str.indexOf(a);var bi=str.indexOf(b,ai+1);var i=ai;if(ai>=0&&bi>0){begs=[];left=str.length;while(i<str.length&&i>=0&&!result){if(i==ai){begs.push(i);ai=str.indexOf(a,i+1)}else if(begs.length==1){result=[begs.pop(),bi]}else{beg=begs.pop();if(beg<left){left=beg;right=bi}bi=str.indexOf(b,i+1)}i=ai<bi&&ai>=0?ai:bi}if(begs.length){result=[left,right]}}return result}},function(module,exports,__webpack_require__){var tokenize=__webpack_require__(14);var parse=__webpack_require__(9);var GLSL=__webpack_require__(1);var Transform=__webpack_require__(32).Transform;var inherits=__webpack_require__(3);function GlslJsStream(options){if(!(this instanceof GlslJsStream))return new GlslJsStream(options);Transform.call(this,{objectMode:true});this.tree=null;this.source="";this.on("data",function(data){this.source+=data+"\n"});this.compiler=GLSL(options).compiler}inherits(GlslJsStream,Transform);GlslJsStream.prototype._transform=function(chunk,enc,cb){if(typeof chunk==="string"){var tree=parse(tokenize(chunk));cb(null,this.compiler.process(tree));this.tree=tree}else{if(this._isFunctionMode){if(chunk.type==="function"){this._isFunctionMode=false}cb(null)}else{if(chunk.type==="stmt"){cb(null,this.compiler.process(chunk))}else{if(chunk.type==="functionargs"){this._isFunctionMode=true}else if(chunk.type==="stmtlist"){this.tree=chunk}cb(null)}}}};module.exports=GlslJsStream},function(module,exports,__webpack_require__){module.exports=Stream;var EE=__webpack_require__(2).EventEmitter;var inherits=__webpack_require__(3);inherits(Stream,EE);Stream.Readable=__webpack_require__(33);Stream.Writable=__webpack_require__(55);Stream.Duplex=__webpack_require__(56);Stream.Transform=__webpack_require__(57);Stream.PassThrough=__webpack_require__(58);Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(34);exports.Stream=exports;exports.Readable=exports;exports.Writable=__webpack_require__(48);exports.Duplex=__webpack_require__(47);exports.Transform=__webpack_require__(53);exports.PassThrough=__webpack_require__(54)},function(module,exports,__webpack_require__){(function(global,process){"use strict";var processNextTick=__webpack_require__(35);module.exports=Readable;var isArray=__webpack_require__(36);var Duplex;Readable.ReadableState=ReadableState;var EE=__webpack_require__(2).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream=__webpack_require__(37);var Buffer=__webpack_require__(38).Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var util=__webpack_require__(43);util.inherits=__webpack_require__(3);var debugUtil=__webpack_require__(44);var debug=void 0;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var BufferList=__webpack_require__(45);var destroyImpl=__webpack_require__(46);var StringDecoder;util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(emitter,event,fn){if(typeof emitter.prependListener==="function"){return emitter.prependListener(event,fn)}else{if(!emitter._events||!emitter._events[event])emitter.on(event,fn);else if(isArray(emitter._events[event]))emitter._events[event].unshift(fn);else emitter._events[event]=[fn,emitter._events[event]]}}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(47);options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new BufferList;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=__webpack_require__(52).StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){Duplex=Duplex||__webpack_require__(47);if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options){if(typeof options.read==="function")this._read=options.read;if(typeof options.destroy==="function")this._destroy=options.destroy}Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(value){if(!this._readableState){return}this._readableState.destroyed=value}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(err,cb){this.push(null);cb(err)};Readable.prototype.push=function(chunk,encoding){var state=this._readableState;var skipChunkCheck;if(!state.objectMode){if(typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=Buffer.from(chunk,encoding);encoding=""}skipChunkCheck=true}}else{skipChunkCheck=true}return readableAddChunk(this,chunk,encoding,false,skipChunkCheck)};Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,true,false)};function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var state=stream._readableState;if(chunk===null){state.reading=false;onEofChunk(stream,state)}else{var er;if(!skipChunkCheck)er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(state.objectMode||chunk&&chunk.length>0){if(typeof chunk!=="string"&&!state.objectMode&&Object.getPrototypeOf(chunk)!==Buffer.prototype){chunk=_uint8ArrayToBuffer(chunk)}if(addToFront){if(state.endEmitted)stream.emit("error",new Error("stream.unshift() after end event"));else addChunk(stream,state,chunk,true)}else if(state.ended){stream.emit("error",new Error("stream.push() after EOF"))}else{state.reading=false;if(state.decoder&&!encoding){chunk=state.decoder.write(chunk);if(state.objectMode||chunk.length!==0)addChunk(stream,state,chunk,false);else maybeReadMore(stream,state)}else{addChunk(stream,state,chunk,false)}}}else if(!addToFront){state.reading=false}}return needMoreData(state)}function addChunk(stream,state,chunk,addToFront){if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;if(!_isUint8Array(chunk)&&typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=__webpack_require__(52).StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(n<=0||state.length===0&&state.ended)return 0;if(state.objectMode)return 1;if(n!==n){if(state.flowing&&state.length)return state.buffer.head.data.length;else return state.length}if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n<=state.length)return n;if(!state.ended){state.needReadable=true;return 0}return state.length}Readable.prototype.read=function(n){debug("read",n);n=parseInt(n,10);var state=this._readableState;var nOrig=n;if(n!==0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}else if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false;if(!state.reading)n=howMuchToRead(nOrig,state)}var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}else{state.length-=n}if(state.length===0){if(!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended)endReadable(this)}if(ret!==null)this.emit("data",ret);return ret};function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)processNextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;processNextTick(maybeReadMore_,stream,state)}}
function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:unpipe;if(state.endEmitted)processNextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable,unpipeInfo){debug("onunpipe");if(readable===src){if(unpipeInfo&&unpipeInfo.hasUnpiped===false){unpipeInfo.hasUnpiped=true;cleanup()}}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",unpipe);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}var increasedAwaitDrain=false;src.on("data",ondata);function ondata(chunk){debug("ondata");increasedAwaitDrain=false;var ret=dest.write(chunk);if(false===ret&&!increasedAwaitDrain){if((state.pipesCount===1&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++;increasedAwaitDrain=true}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;var unpipeInfo={hasUnpiped:false};if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this,unpipeInfo);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++){dests[i].emit("unpipe",this,unpipeInfo)}return this}var index=indexOf(state.pipes,dest);if(index===-1)return this;state.pipes.splice(index,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this,unpipeInfo);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"){if(this._readableState.flowing!==false)this.resume()}else if(ev==="readable"){var state=this._readableState;if(!state.endEmitted&&!state.readableListening){state.readableListening=state.needReadable=true;state.emittedReadable=false;if(!state.reading){processNextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;processNextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;state.awaitDrain=0;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);while(state.flowing&&stream.read()!==null){}}Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)self.push(chunk)}self.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}for(var n=0;n<kProxyEvents.length;n++){stream.on(kProxyEvents[n],self.emit.bind(self,kProxyEvents[n]))}self._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return self};Readable._fromList=fromList;function fromList(n,state){if(state.length===0)return null;var ret;if(state.objectMode)ret=state.buffer.shift();else if(!n||n>=state.length){if(state.decoder)ret=state.buffer.join("");else if(state.buffer.length===1)ret=state.buffer.head.data;else ret=state.buffer.concat(state.length);state.buffer.clear()}else{ret=fromListPartial(n,state.buffer,state.decoder)}return ret}function fromListPartial(n,list,hasStrings){var ret;if(n<list.head.data.length){ret=list.head.data.slice(0,n);list.head.data=list.head.data.slice(n)}else if(n===list.head.data.length){ret=list.shift()}else{ret=hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list)}return ret}function copyFromBufferString(n,list){var p=list.head;var c=1;var ret=p.data;n-=ret.length;while(p=p.next){var str=p.data;var nb=n>str.length?str.length:n;if(nb===str.length)ret+=str;else ret+=str.slice(0,n);n-=nb;if(n===0){if(nb===str.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=str.slice(nb)}break}++c}list.length-=c;return ret}function copyFromBuffer(n,list){var ret=Buffer.allocUnsafe(n);var p=list.head;var c=1;p.data.copy(ret);n-=p.data.length;while(p=p.next){var buf=p.data;var nb=n>buf.length?buf.length:n;buf.copy(ret,ret.length-n,0,nb);n-=nb;if(n===0){if(nb===buf.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=buf.slice(nb)}break}++c}list.length-=c;return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!state.endEmitted){state.ended=true;processNextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(exports,function(){return this}(),__webpack_require__(6))},function(module,exports,__webpack_require__){(function(process){"use strict";if(!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports=nextTick}else{module.exports=process.nextTick}function nextTick(fn,arg1,arg2,arg3){if(typeof fn!=="function"){throw new TypeError('"callback" argument must be a function')}var len=arguments.length;var args,i;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function afterTickOne(){fn.call(null,arg1)});case 3:return process.nextTick(function afterTickTwo(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function afterTickThree(){fn.call(null,arg1,arg2,arg3)});default:args=new Array(len-1);i=0;while(i<args.length){args[i++]=arguments[i]}return process.nextTick(function afterTick(){fn.apply(null,args)})}}}).call(exports,__webpack_require__(6))},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2).EventEmitter},function(module,exports,__webpack_require__){var buffer=__webpack_require__(39);var Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src){dst[key]=src[key]}}if(Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow){module.exports=buffer}else{copyProps(buffer,exports);exports.Buffer=SafeBuffer}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}copyProps(Buffer,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg==="number"){throw new TypeError("Argument must not be a number")}return Buffer(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}var buf=Buffer(size);if(fill!==undefined){if(typeof encoding==="string"){buf.fill(fill,encoding)}else{buf.fill(fill)}}else{buf.fill(0)}return buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return Buffer(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){(function(global){"use strict";var base64=__webpack_require__(40);var ieee754=__webpack_require__(41);var isArray=__webpack_require__(42);exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength=kMaxLength();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length){throw new RangeError("Invalid typed array length")}if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(that===null){that=new Buffer(length)}that.length=length}return that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer)){return new Buffer(arg,encodingOrOffset,length)}if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer){return fromArrayBuffer(that,value,encodingOrOffset,length)}if(typeof value==="string"){return fromString(that,value,encodingOrOffset)}return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be a number')}else if(size<0){throw new RangeError('"size" argument must not be negative')}}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(that,size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<size;++i){that[i]=0}}return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError('"encoding" must be a valid string encoding')}var length=byteLength(string,encoding)|0;that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length){that=that.slice(0,actual)}return that}function fromArrayLike(that,array){var length=array.length<0?0:checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError("'offset' is out of bounds")}if(array.byteLength<byteOffset+(length||0)){throw new RangeError("'length' is out of bounds")}if(byteOffset===undefined&&length===undefined){array=new Uint8Array(array)}else if(length===undefined){array=new Uint8Array(array,byteOffset)}else{array=new Uint8Array(array,byteOffset,length)}if(Buffer.TYPED_ARRAY_SUPPORT){that=array;that.__proto__=Buffer.prototype}else{that=fromArrayLike(that,array)}return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0){return that}obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length)){return createBuffer(that,0)}return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray(obj.data)){return fromArrayLike(that,obj.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){string=""+string}var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case undefined:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target)){throw new TypeError("Argument must be a Buffer")}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(isNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;++i){newBuf[i]=this[i+start]}}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance')
;if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;++i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===1){var code=val.charCodeAt(0);if(code<256){val=code}}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString());var len=bytes.length;for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}}).call(exports,function(){return this}())},function(module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function placeHoldersCount(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return b64[len-2]==="="?2:b64[len-1]==="="?1:0}function byteLength(b64){return b64.length*3/4-placeHoldersCount(b64)}function toByteArray(b64){var i,l,tmp,placeHolders,arr;var len=b64.length;placeHolders=placeHoldersCount(b64);arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0;i<l;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&255;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(exports,__webpack_require__(39).Buffer)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Buffer=__webpack_require__(38).Buffer;function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function push(v){var entry={data:v,next:null};if(this.length>0)this.tail.next=entry;else this.head=entry;this.tail=entry;++this.length};BufferList.prototype.unshift=function unshift(v){var entry={data:v,next:this.head};if(this.length===0)this.tail=entry;this.head=entry;++this.length};BufferList.prototype.shift=function shift(){if(this.length===0)return;var ret=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return ret};BufferList.prototype.clear=function clear(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function join(s){if(this.length===0)return"";var p=this.head;var ret=""+p.data;while(p=p.next){ret+=s+p.data}return ret};BufferList.prototype.concat=function concat(n){if(this.length===0)return Buffer.alloc(0);if(this.length===1)return this.head.data;var ret=Buffer.allocUnsafe(n>>>0);var p=this.head;var i=0;while(p){copyBuffer(p.data,ret,i);i+=p.data.length;p=p.next}return ret};return BufferList}()},function(module,exports,__webpack_require__){"use strict";var processNextTick=__webpack_require__(35);function destroy(err,cb){var _this=this;var readableDestroyed=this._readableState&&this._readableState.destroyed;var writableDestroyed=this._writableState&&this._writableState.destroyed;if(readableDestroyed||writableDestroyed){if(cb){cb(err)}else if(err&&(!this._writableState||!this._writableState.errorEmitted)){processNextTick(emitErrorNT,this,err)}return}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(err||null,function(err){if(!cb&&err){processNextTick(emitErrorNT,_this,err);if(_this._writableState){_this._writableState.errorEmitted=true}}else if(cb){cb(err)}})}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:destroy,undestroy:undestroy}},function(module,exports,__webpack_require__){"use strict";var processNextTick=__webpack_require__(35);var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){keys.push(key)}return keys};module.exports=Duplex;var util=__webpack_require__(43);util.inherits=__webpack_require__(3);var Readable=__webpack_require__(34);var Writable=__webpack_require__(48);util.inherits(Duplex,Readable);var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;processNextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(value){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=value;this._writableState.destroyed=value}});Duplex.prototype._destroy=function(err,cb){this.push(null);this.end();processNextTick(cb,err)};function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}},function(module,exports,__webpack_require__){(function(process,setImmediate,global){"use strict";var processNextTick=__webpack_require__(35);module.exports=Writable;function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}function CorkedRequest(state){var _this=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(_this,state)}}var asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;var Duplex;Writable.WritableState=WritableState;var util=__webpack_require__(43);util.inherits=__webpack_require__(3);var internalUtil={deprecate:__webpack_require__(51)};var Stream=__webpack_require__(37);var Buffer=__webpack_require__(38).Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var destroyImpl=__webpack_require__(46);util.inherits(Writable,Stream);function nop(){}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(47);options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(_){}})();var realHasInstance;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){realHasInstance=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){if(realHasInstance.call(this,object))return true;return object&&object._writableState instanceof WritableState}})}else{realHasInstance=function(object){return object instanceof this}}function Writable(options){Duplex=Duplex||__webpack_require__(47);if(!realHasInstance.call(Writable,this)&&!(this instanceof Duplex)){return new Writable(options)}this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev;if(typeof options.destroy==="function")this._destroy=options.destroy;if(typeof options.final==="function")this._final=options.final}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;var er=false;if(chunk===null){er=new TypeError("May not write null values to stream")}else if(typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}if(er){stream.emit("error",er);processNextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;var isBuf=_isUint8Array(chunk)&&!state.objectMode;if(isBuf&&!Buffer.isBuffer(chunk)){chunk=_uint8ArrayToBuffer(chunk)}if(typeof encoding==="function"){cb=encoding;encoding=null}if(isBuf)encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(isBuf||validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding;return this};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=Buffer.from(chunk,encoding)}return chunk}function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);if(chunk!==newChunk){isBuf=true;encoding="buffer";chunk=newChunk}}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null};if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}state.bufferedRequestCount+=1}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync){processNextTick(cb,er);processNextTick(finishMaybe,stream,state);stream._writableState.errorEmitted=true;stream.emit("error",er)}else{cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er);finishMaybe(stream,state)}}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){asyncWrite(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount;var buffer=new Array(l);var holder=state.corkedRequestsFree;holder.entry=entry;var count=0;var allBuffers=true;while(entry){buffer[count]=entry;if(!entry.isBuf)allBuffers=false;entry=entry.next;count+=1}buffer.allBuffers=allBuffers;doWrite(stream,state,true,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;if(holder.next){state.corkedRequestsFree=holder.next;holder.next=null}else{state.corkedRequestsFree=new CorkedRequest(state)}}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequestCount=0;state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--;if(err){stream.emit("error",err)}state.prefinished=true;stream.emit("prefinish");finishMaybe(stream,state)})}function prefinish(stream,state){if(!state.prefinished&&!state.finalCalled){if(typeof stream._final==="function"){state.pendingcb++;state.finalCalled=true;processNextTick(callFinal,stream,state)}else{state.prefinished=true;stream.emit("prefinish")}}}function finishMaybe(stream,state){var need=needFinish(state);if(need){prefinish(stream,state);if(state.pendingcb===0){state.finished=true;stream.emit("finish")}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)processNextTick(cb);else stream.once("finish",cb)}state.ended=true;stream.writable=false}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;while(entry){var cb=entry.callback;state.pendingcb--;cb(err);entry=entry.next}if(state.corkedRequestsFree){state.corkedRequestsFree.next=corkReq}else{state.corkedRequestsFree=corkReq}}Object.defineProperty(Writable.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(value){if(!this._writableState){return}this._writableState.destroyed=value}});Writable.prototype.destroy=destroyImpl.destroy;Writable.prototype._undestroy=destroyImpl.undestroy;Writable.prototype._destroy=function(err,cb){this.end();cb(err)}}).call(exports,__webpack_require__(6),__webpack_require__(49).setImmediate,function(){return this}())},function(module,exports,__webpack_require__){var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){if(timeout){timeout.close()}};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};__webpack_require__(50);exports.setImmediate=setImmediate;exports.clearImmediate=clearImmediate},function(module,exports,__webpack_require__){(function(global,process){(function(global,undefined){
"use strict";if(global.setImmediate){return}var nextHandle=1;var tasksByHandle={};var currentlyRunningATask=false;var doc=global.document;var registerImmediate;function setImmediate(callback){if(typeof callback!=="function"){callback=new Function(""+callback)}var args=new Array(arguments.length-1);for(var i=0;i<args.length;i++){args[i]=arguments[i+1]}var task={callback:callback,args:args};tasksByHandle[nextHandle]=task;registerImmediate(nextHandle);return nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback;var args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args);break}}function runIfPresent(handle){if(currentlyRunningATask){setTimeout(runIfPresent,0,handle)}else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=true;try{run(task)}finally{clearImmediate(handle);currentlyRunningATask=false}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=true;var oldOnMessage=global.onmessage;global.onmessage=function(){postMessageIsAsynchronous=false};global.postMessage("","*");global.onmessage=oldOnMessage;return postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$";var onGlobalMessage=function(event){if(event.source===global&&typeof event.data==="string"&&event.data.indexOf(messagePrefix)===0){runIfPresent(+event.data.slice(messagePrefix.length))}};if(global.addEventListener){global.addEventListener("message",onGlobalMessage,false)}else{global.attachEvent("onmessage",onGlobalMessage)}registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;runIfPresent(handle)};registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null};html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}var attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global;if({}.toString.call(global.process)==="[object process]"){installNextTickImplementation()}else if(canUsePostMessage()){installPostMessageImplementation()}else if(global.MessageChannel){installMessageChannelImplementation()}else if(doc&&"onreadystatechange"in doc.createElement("script")){installReadyStateChangeImplementation()}else{installSetTimeoutImplementation()}attachTo.setImmediate=setImmediate;attachTo.clearImmediate=clearImmediate})(typeof self==="undefined"?typeof global==="undefined"?this:global:self)}).call(exports,function(){return this}(),__webpack_require__(6))},function(module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(38).Buffer;var isEncoding=Buffer.isEncoding||function(encoding){encoding=""+encoding;switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(enc){if(!enc)return"utf8";var retried;while(true){switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase();retried=true}}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if(typeof nenc!=="string"&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}exports.StringDecoder=StringDecoder;function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;nb=4;break;case"utf8":this.fillLast=utf8FillLast;nb=4;break;case"base64":this.text=base64Text;this.end=base64End;nb=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=Buffer.allocUnsafe(nb)}StringDecoder.prototype.write=function(buf){if(buf.length===0)return"";var r;var i;if(this.lastNeed){r=this.fillLast(buf);if(r===undefined)return"";i=this.lastNeed;this.lastNeed=0}else{i=0}if(i<buf.length)return r?r+this.text(buf,i):this.text(buf,i);return r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length){buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length);this.lastNeed-=buf.length};function utf8CheckByte(byte){if(byte<=127)return 0;else if(byte>>5===6)return 2;else if(byte>>4===14)return 3;else if(byte>>3===30)return 4;return-1}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-1;return nb}if(--j<i)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-2;return nb}if(--j<i)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0){if(nb===2)nb=0;else self.lastNeed=nb-3}return nb}return 0}function utf8CheckExtraBytes(self,buf,p){if((buf[0]&192)!==128){self.lastNeed=0;return"�".repeat(p)}if(self.lastNeed>1&&buf.length>1){if((buf[1]&192)!==128){self.lastNeed=1;return"�".repeat(p+1)}if(self.lastNeed>2&&buf.length>2){if((buf[2]&192)!==128){self.lastNeed=2;return"�".repeat(p+2)}}}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed;var r=utf8CheckExtraBytes(this,buf,p);if(r!==undefined)return r;if(this.lastNeed<=buf.length){buf.copy(this.lastChar,p,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,p,0,buf.length);this.lastNeed-=buf.length}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);buf.copy(this.lastChar,0,end);return buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+"�".repeat(this.lastTotal-this.lastNeed);return r}function utf16Text(buf,i){if((buf.length-i)%2===0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=buf[buf.length-1];return buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;if(n===0)return buf.toString("base64",i);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=buf[buf.length-1]}else{this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1]}return buf.toString("base64",i,buf.length-n)}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+this.lastChar.toString("base64",0,3-this.lastNeed);return r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}},function(module,exports,__webpack_require__){"use strict";module.exports=Transform;var Duplex=__webpack_require__(47);var util=__webpack_require__(43);util.inherits=__webpack_require__(3);util.inherits(Transform,Duplex);function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null;this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb){return stream.emit("error",new Error("write callback called multiple times"))}ts.writechunk=null;ts.writecb=null;if(data!==null&&data!==undefined)stream.push(data);cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(er,data){done(stream,er,data)});else done(stream)})}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};Transform.prototype._destroy=function(err,cb){var _this=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2);_this.emit("close")})};function done(stream,er,data){if(er)return stream.emit("error",er);if(data!==null&&data!==undefined)stream.push(data);var ws=stream._writableState;var ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}},function(module,exports,__webpack_require__){"use strict";module.exports=PassThrough;var Transform=__webpack_require__(53);var util=__webpack_require__(43);util.inherits=__webpack_require__(3);util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(48)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(47)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(33).Transform},function(module,exports,__webpack_require__){module.exports=__webpack_require__(33).PassThrough}]);
//# sourceMappingURL=dist/transpiler.min.js.map